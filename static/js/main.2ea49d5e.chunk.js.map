{"version":3,"sources":["static/images/clock.png","components/Constants.js","utils/jsutils.js","headers/KwykHeader.js","headers/SessionHeader.js","hooks/useFetch.js","components/DisplayAlert.js","components/SelectionButtons.js","screens/SessionSelectionScreen.js","screens/TopicSelectionScreen.js","screens/DisplayTopic.js","headers/TimerHeader.js","hooks/useTimer.js","hooks/usePost.js","hooks/useGetAttempted.js","screens/ChatBot.js","utils/getTopicFromURL.js","oneQuestion/ChatBotOQ.js","screens/UserStats.js","components/Tab.js","components/WordCloud.js","headers/TopicHeader.js","screens/Responses.js","oneQuestion/ResponsesOQ.js","screens/Statistics.js","components/AdminAccessDenied.js","screens/Insights.js","screens/Login.js","headers/FrontPageHeader.js","screens/UserLogin.js","screens/Feedback.js","screens/About.js","components/PasswordReset.js","components/Page404.js","screens/AdminScreen.js","components/Error.js","components/FeedbackThanks.js","screens/Explanations.js","components/Routes.js","components/RouteChangeTracker.js","App.js","index.js","static/images/knowbotpng.png","static/images/idea.png","static/images/send.png"],"names":["module","exports","welcomeMessage","tableColors","kwykURL","convertToCamelCase","name","words","split","convertedName","i","length","toUpperCase","substr","Header","props","username","sessionStorage","getItem","topic","utils","className","src","knowbotSVG","alt","DisplayDropDown","history","useHistory","CustomToggle","React","forwardRef","ref","children","onClick","href","e","preventDefault","style","color","backgroundColor","paddingTop","Dropdown","Toggle","as","Menu","size","title","Item","push","pathname","subtopic","clear","SessionHeader","useFetch","url","defaultResponse","useState","data","setData","a","fetch","res","json","result","isLoading","error","useEffect","getDataFromAPI","DisplayAlert","message","Alert","variant","SelectionButtons","clickedButton","setClickedButton","getClickedButton","getSelectedTopic","buttonList","topics","map","index","TopicButton","textColor","buttonColor","key","styling","height","value","target","SessionSelectionScreen","urlSplit","window","location","DisplaySessions","session","setSession","fetchResponse","constant","sessions_details","sessions","k","DisplayMessage","ShowTestLink","getSessionSlug","DisplayButton","sessionname","sessionslug","copySuccess","setCopySuccess","textRef","useRef","basename","origin","console","log","type","placeholder","disabled","id","text","buttonDisplay","display","TopicSelectionScreen","DisplayTopics","DisplaySubTopics","getSelectedSubTopic","GetSubTopics","subtopics","TopicSelection","setTopic","setSubTopic","DisplayStartButton","DisplayTopic","path","hash","ReactGA","set","page","pageview","useLocation","destinationPath","query","setItem","JSON","stringify","TimerHeader","useTimer","mins","secs","seconds","setSeconds","minutes","setMinutes","setTime","time","setInterval","clearInterval","usePost","dataText","requestOptions","method","headers","body","postDataToAPI","useGetAttempted","useremail","attemptedWords","attemptedCount","totalWordCount","skippedWordCount","skippedWords","Object","values","filter","el","includes","getUniqueSkips","totalCount","ChatBot","DisplayTest","chatMessages","prevWords","parse","parseInt","skippedCount","ShowTimeHeader","DisplayChat","setChatMessages","userInput","setUserInput","actions","addChat","chatList","GetChatMessages","messagesEndRef","current","scrollIntoView","behavior","DisplayForm","getUserInput","input","ShowWelcomeChat","GetWord","ShowHint","DisplayUserInput","textArea","document","querySelector","rows","rowsMin","getCommand","messageText","word","Test","BotReply","hint","handleClick","ideapng","confirm","onChange","onKeyPress","charCode","required","sendlogo","UserReply","getTopic","pathArray","entry","trim","replace","setSessionTopic","ChatBotOQ","getTopicSubTopic","CheckStatsAndDisplay","StatsPage","DisplayStats","UserStats","DisplayScore","RetrySkips","ViewResponses","ViewExplanation","Tabs","styled","div","tabcolor","Tab","button","active","Content","ShowWordCloud","options","content","allowNumbers","maxWords","stemmer","stopwordsInput","fontSizes","rotations","rotationAngles","padding","background","width","marginLeft","marginRight","TopicHeader","ShowResponsePage","ShowResponses","Responses","topicUserWords","topicWordsResponses","topicWords","topicTopWords","sort","wordResponses","DisplayWordResponses","topWords","slice","ResponsesOQ","Statistics","totalUsers","totalWords","leastResponse","mostSkips","commonResponseCount","userResponseData","stats","skipsCount","answeredCount","userAnswerCount","topicData","userWords","users","userEntries","keys","concat","wordArray","occurrences","reduce","obj","entries","getWordFrequency","getStats","getSortedData","userResponse","userData","divisions","userDivisionData","userResponseCount","answerDivisions","Math","round","ansdivpercent","valRange","centPercent","percent","count","range","getResponseHist","statButtons","maxVal","item","open","setOpen","Button","aria-controls","aria-expanded","Collapse","in","DisplayData","b","ShowProgressBar","statsBar","statData","popover","join","Popover","Title","OverlayTrigger","overlay","ProgressBar","now","label","max","min","sortedData","n","AdminAccessDenied","DisplayError","Insights","StatisticsTab","setActive","ShowInsights","selectedView","setView","ViewSelection","getView","view","ShowLegends","DisplayUserData","headerWords","limits","headerData","userDivisions","limitsData","begin","parseFloat","end","unique_limits","ar","itm","idx","arr","indexOf","str","getLimits","getHeaderWords","GetTableHeader","GetTableData","titleWord","header","ViewByUsers","ViewByResponses","defaultValue","user","userVal","wordUserCount","getWordResponseCount","tableData","wordCount","wordRow","limit","wordColor","ViewByUsersLegend","class","ViewByResponsesLegend","DisplayLogin","sessionPath","DisplayIcon","LoginTab","Login","Redirect","knowbotpng","SignInForm","SignUpForm","email","setEmail","password","setPassword","loginMessage","setLoginMessage","onSubmit","ValidateUser","to","userName","setUserName","CreateNewUser","sessionName","response","reload","is_admin","setSessionStorage","session_name","removeItem","initializeSessionStorage","destination","getDestinationScreen","UserLogin","AboutPage","ShowLoginButton","Feedback","ShowTemplate","serviceID","templateId","variables","emailjs","send","then","catch","err","sendFeedback","from_name","reply_to","About","ShowAboutUs","PasswordReset","ResetArea","btnValue","setBtnValue","newPassword","setNewPassword","confirmPassword","setConfirmPassword","pwdMessage","setPwdMessage","ChangePwd","Display404","Page404","AdminScreen","Error","ThankYouMessage","FeedbackThanks","Explanation","ShowExplanationPage","ShowExplanation","initialValue","apiKey","init","plugins","toolbar","menubar","inline","content_style","Routes","process","exact","render","withRouter","listen","action","App","initialize","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ea49d5e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clock.195b3e8e.png\";","//export const username = 'kwyktest@gmail.com'\n//export const username = 'kwykreview@gmail.com'\nexport const greenColor =\"#7bc143\";\nexport const greyColor = \"#edeff2\";\nexport const whiteColor = \"#ffffff\";\nexport const welcomeMessage=\"Please enter as many words or phrases as you can think of, separated by commas\"\nexport const tableColors = ['#740000', '#c55b11','#f8aa73', '#b2de83', '#7bc143', '#02b150' ]\nexport const loginTabColor = \"#ffffff\";\nexport const adminTabColor = \"#ffffff\";\nexport const blackColor = \"#000000\";\nexport const darkGrey = \"#959595\";\nexport const userInsightGreen = \"#b2de83\";\nexport const userInsightRed = \"#c55b11\";\n\n///URL changes\n//export const kwykURL = \"http://localhost:3000/\";\nexport const kwykURL = \"https://shinykwyk.infoassistants.com/\";\n//export const kwykURL = \"http://ac7c1f0d2149.ngrok.io/\"\nexport const postURL= kwykURL + \"input_custom\";\nexport const loginURL = kwykURL + \"login_custom\";\n//export const postURLSQA= kwykURL + \"sqa_input_custom\";\nexport const pwdResetURL = kwykURL + \"pwd_reset\";\nexport const pwdResetSuccessMsg = 'Your password has been changed! SignIn to continue';\nexport const pwdResetFailedMsg = 'Email id is not registered. Signup with your email id';\nexport const feedbackMessage = 'Hello! you feedback is important to us. Tell us about your experience, issues faced, ideas and suggestions for improvement'\nexport const fbToEmail = 'kwyktest01@gmail.com';\nexport const shiny = 'shiny.suresh@gmail.com';\nexport const TINYMCE_APIKEY = \"0h3vsxidv9gzrfe2zafqct55zkg7tfj04dke4pk5j88e3aot\";\n//export const pySkillsTopic = \"python\";\n//export const pySkillsSubTopic = \"python basics\";\nexport const aboutUs1 = \"PySkills is a simple app to test your conceptual knowledge of Python. It will work like this: \\n1. You will be shown a Python concept or term. \\n2. You can reply with one or more terms that come to your mind. \\n3. If you do not know the term, you can skip it.\"\nexport const aboutUs2 = \"The beginner assessment has 20 terms. Please answer as many as you can. At the end of the test, you can: \\n 1. Attempt skipped terms. \\n 2. Use the link associated with a skipped term and learn more.\"\nexport const termFont = \"1.5em\"\n","export function convertToCamelCase(name) {\n  const words = name.split(\" \");\n  let convertedName = \"\";\n  for (let i = 0; i < words.length; i++) {\n    words[i] = words[i][0].toUpperCase() + words[i].substr(1);\n    convertedName = convertedName + \" \" +words[i]\n  }\n  return convertedName;\n}\n","import React from 'react';\nimport '../static/css/header.css';\nimport knowbotSVG from '../static/images/knowbotpng.png';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport * as constant from '../components/Constants'\nimport { useHistory } from \"react-router-dom\";\nimport * as utils from '../utils/jsutils'\n\nfunction Header(props){\n  let session = \"\";\n  let tagline =\"\";\n  let fontSize = \"1em\"\n  let username=\"\";\n  session = sessionStorage.getItem('session_name');\n  if(session === 'undefined'){\n    session = ''\n  }\n  if(sessionStorage.getItem('username')){\n    username = sessionStorage.getItem('username');\n  }\n  if(props.topic){\n    tagline = 'about '+utils.convertToCamelCase(props.topic)\n    fontSize = \"1em\"\n  }\n\n  return(\n    <div className=\"row headercontainer\">\n        <div className=\"col-11\">\n          <div className=\"row window-color\">\n            <div className=\"col-2 headerfont\">\n              <img src={knowbotSVG} className=\"knowbotlogo\" alt=\"logo\" />\n            </div>\n            <div className=\"col-md-6 col-7 headerfont\">\n              <div className=\"row title\">\n                Build Your Skills\n              </div>\n              <div className=\"row subtitle\">\n                Assess your Python Skills\n              </div>\n            </div>\n            <div className=\"col-md-4 col-3 username \">\n              {username}\n            </div>\n          </div>\n        </div>\n        <div className=\"col-1 headerfont\">\n          <DisplayDropDown />\n        </div>\n      </div>\n  );\n}\n\nexport default Header;\n\nfunction DisplayDropDown() {\n  let history = useHistory();\n  function handleLogout() {\n    const topic = sessionStorage.getItem('topic');\n    const subtopic = sessionStorage.getItem('subtopic');\n    sessionStorage.clear();\n    history.push({\n      pathname:`/${topic}/${subtopic}`\n    });\n  }\n  function handleFeedback() {\n      history.push({\n        pathname:`/feedback`\n      });\n    }\n  function handleAbout() {\n    history.push({\n      pathname:`/about`\n    });\n  }\n  const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n  <a\n    href=\"\"\n    ref={ref}\n    onClick={e => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  >\n    {children}\n    <i className=\"fas fa-ellipsis-v ellipsisbutton\"\n       style={{color:constant.blackColor,\n                backgroundColor: constant.whiteColor,\n                paddingTop: \"2vh\"}}>\n    </i>\n  </a>\n));\n\n  return (\n  <Dropdown style={{backgroundColor: constant.whiteColor}}>\n        <Dropdown.Toggle as={CustomToggle} />\n        <Dropdown.Menu size=\"sm\" title=\"\">\n          <Dropdown.Item href=\"#\" onClick={handleAbout} className=\"ellipsismenu\">About Us</Dropdown.Item>\n          <Dropdown.Item href=\"#\" onClick={handleFeedback} className=\"ellipsismenu\">FeedBack</Dropdown.Item>\n          <Dropdown.Item href=\"#\" onClick={handleLogout} className=\"ellipsismenu\">Logout</Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n\n  );\n\n}\n","import React from \"react\";\nimport '../static/css/chat.css';\n\nfunction SessionHeader() {\n  let username = '';\n  let session = '';\n  if(sessionStorage.getItem('session_name')){\n    session = sessionStorage.getItem('session_name');\n  }\n  \n  return(\n    <div className=\"row headercontainer\">\n        <div className=\"col-12 userheader\">\n          {session}\n        </div>\n    </div>\n  );\n}\n\nexport default SessionHeader;\n","import { useState, useEffect } from \"react\";\n\nfunction useFetch(url, defaultResponse) {\n  const [data, setData] = useState(defaultResponse);\n  async function getDataFromAPI() {\n    try {\n      const res = await fetch(url);\n      const result = await res.json();\n      let dataList = result;\n      setData({\n        isLoading: false,\n        data: dataList\n      });\n    } catch (e) {\n      setData({\n        isLoading: false,\n        error: e\n      });\n    }\n  }\n\n  useEffect(() => {\n    getDataFromAPI()\n  }, [url]);\n  return data;\n}\n\nexport default useFetch;\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert'\n\nfunction DisplayAlert(props) {\n  let message = \"\"+props.message;\n  return(\n    <Alert variant='danger' className='alert'>\n        {message}\n    </Alert>\n\n  );\n}\n\nexport default DisplayAlert;\n","import React, {useState} from 'react';\nimport * as constant from '../components/Constants'\nimport '../static/css/contents.css';\nimport * as utils from '../utils/jsutils'\n\nfunction SelectionButtons(props){\n  const [clickedButton, setClickedButton] = useState(\"\");\n  const topics = props.topics;\n  let height = \"27vh\";\n  function getClickedButton(name){\n    props.getSelectedTopic(name);\n    setClickedButton(name);\n  }\n  /*if (props.styling === \"topics-area\"){\n    if(clickedButton === \"\"){\n      height = \"40vh\";\n    }\n    else {\n      height = \"30vh\";\n    }\n  }*/\n\n  const buttonList = topics.map((topic, index) =>\n      <TopicButton name={topic} textColor={topic === clickedButton ? constant.whiteColor : constant.blackColor }\n      buttonColor={topic === clickedButton ? constant.darkGrey : constant.greyColor}\n      getClickedButton={getClickedButton} key={index}/>\n  );\n  return (<div className={`${props.styling}`} style={{height:height}}>{buttonList}</div>);\n}\n\nexport default SelectionButtons;\n\nfunction TopicButton(props){\n  function handleClick(e){\n    props.getClickedButton(e.target.value);\n  }\n  return (<button className=\"rounded-pill topic-btn\" value={props.name}\n            style={{color: props.textColor, backgroundColor: props.buttonColor}}\n            onClick={handleClick}> {utils.convertToCamelCase(props.name)}</button>);\n}\n","//admin interface\nimport React, {useState, useRef} from 'react';\nimport * as constant from '../components/Constants'\nimport useFetch from \"../hooks/useFetch\";\nimport '../static/css/contents.css';\nimport DisplayAlert from '../components/DisplayAlert';\nimport { useHistory } from \"react-router-dom\";\nimport SelectionButtons from '../components/SelectionButtons';\nimport Header from \"../headers/KwykHeader\";\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\nimport ReactGA from 'react-ga4';\n\nfunction SessionSelectionScreen() {\n  const urlSplit = window.location.href.split(\"/\")\n  const topic = urlSplit[urlSplit.length-2]\n  const subtopic = urlSplit[urlSplit.length-1]\n\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <Header/>\n        <div className=\"sessions\">\n          <div className=\"row topics-div\">\n            <DisplaySessions topic={topic} subtopic={subtopic}\n              styling={\"sessions-area\"}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SessionSelectionScreen;\n\nfunction DisplaySessions(props){\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  const [session,setSession] = useState(\"\");\n  function getSelectedSession(data){\n    setSession(data);\n  }\n  const url = constant.kwykURL+\"get/sessions/custom\";\n  const message = \"Please choose your session ...\"\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const sessions_details = fetchResponse.data\n  var sessions = []\n  for(var k in sessions_details){\n    sessions.push(sessions_details[k]['session_name']);\n  }\n  if(props.subtopic){\n    return (\n      <div className=\"subtopics\">\n        <DisplayMessage message={message}/>\n        <SelectionButtons topics={sessions} getSelectedTopic={getSelectedSession}\n          styling={props.styling}/>\n        <ShowTestLink topic={props.topic} subtopic={props.subtopic}\n          session={getSessionSlug(sessions_details,session)}/>\n        <DisplayButton topic={props.topic} subtopic={props.subtopic}\n          sessionname={session} sessionslug={getSessionSlug(sessions_details,session)}/>\n      </div>\n    );\n  }\n  else{\n    return(\n      <div className=\"subtopics\">\n        <DisplayMessage message=\"\"/>\n      </div>\n    );\n  }\n\n}\n\n\n\nfunction DisplayMessage(props){\n  return(\n    <div className=\"info-text\">\n    <br />\n      {props.message}\n    </div>\n  );\n}\n\n\nfunction ShowTestLink(props) {\n  const [copySuccess, setCopySuccess] = useState('');\n  const textRef = useRef(null);\n  const basename = window.location.origin;\n  console.log(basename);\n  let url = '';\n  if(props.session){\n    url  = basename.split('#')[0]+'?session='+props.session+'/#/'+props.topic+'/'+props.subtopic;\n  }\n  else{\n    url  = basename +'/#/'+props.topic+'/'+props.subtopic;\n  }\n\n  function handleClick(e) {\n    setCopySuccess('Copied!');\n  };\n\n  return(\n    <div className=\"row testlink\">\n      <div className = \"col-2 testlink\">\n      <label className=\"linklabel\"> Test Link:  </label>\n      </div>\n      <div className = \"col-10 testlink\">\n      <input type=\"text\" ref={textRef} name=\"email\" className=\"linktext\" value={url} placeholder={url}\n       disabled=\"disabled\" id=\"link\"/>\n       <CopyToClipboard text={url}>\n           <button className=\"linkbutton\" onClick={handleClick}>Copy</button>\n       </CopyToClipboard>\n       <span className=\"copytext\">{copySuccess}</span>\n      </div>\n    </div>\n  );\n}\n\nfunction DisplayButton(props){\n  let history = useHistory();\n  let buttonDisplay;\n  if(props.subtopic){\n    buttonDisplay =\"block\";\n  }\n  else{\n    buttonDisplay =\"none\";\n  }\n  function handleClick(e){\n    let pathname = '';\n    if (props.sessionslug !== ''){\n      pathname='/analytics/'+props.topic+'/'+props.subtopic+'/'+props.sessionslug\n    }\n    else{\n      pathname='/analytics/'+props.topic+'/'+props.subtopic\n    }\n    history.push({\n      pathname:pathname\n    });\n\n      //history.push('/'+props.topic+'/'+props.subtopic);\n  }\n  return(\n    <div className='session-btn-div'>\n      <button className=\"stats-button\" value=\"start\"\n        onClick={handleClick} style={{display: buttonDisplay}}>View Statistics</button>\n    </div>\n  );\n}\n\nfunction getSessionSlug(sessions_details,session) {\n  for(var k in sessions_details){\n    if (sessions_details[k]['session_name'] === session){\n      return sessions_details[k]['session_slug'];\n    }\n  }\n  return \"\";\n}\n","//admin interface\nimport React from 'react';\nimport * as constant from '../components/Constants'\nimport useFetch from \"../hooks/useFetch\";\nimport '../static/css/contents.css';\nimport DisplayAlert from '../components/DisplayAlert';\nimport SelectionButtons from '../components/SelectionButtons';\nimport DisplaySessions from \"./SessionSelectionScreen\";\n\nfunction TopicSelectionScreen(props) {\n  return(\n    <div>\n      <div className=\"topics-div\">\n        <DisplayTopics getSelectedTopic={props.getSelectedTopic} styling={\"topics-area\"}/>\n      </div>\n      <div className=\"subtopics-div\">\n        <DisplaySubTopics topic={props.topic} getSelectedSubTopic={props.getSelectedSubTopic} styling={\"subtopics-area\"}/>\n      </div>\n  </div>\n  );\n}\n\nexport default TopicSelectionScreen;\n\nfunction DisplayMessage(props){\n  return(\n    <div className=\"info-text\">\n    <br />\n      {props.message}\n    </div>\n  );\n}\n\n/*function DisplaySubTopics(props){\n  return(\n      <div className=\"subtopics\">\n      <DisplayMessage message=\"Please choose a subtopic ...\"/>\n      <GetSubTopics getSelectedSubTopic={props.getSelectedSubTopic}\n                styling={props.styling} topic={props.topic}/>\n      </div>\n  );\n}*/\n\nfunction GetSubTopics(props){\n  const url = constant.kwykURL+\"get/\"+props.topic+\"/subtopics\";\n\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error}/>\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const subtopics = fetchResponse.data\n  return <SelectionButtons topics={subtopics} getSelectedTopic={props.getSelectedSubTopic} styling={props.styling}/>;\n}\n\nfunction DisplayTopics(props){\n  const url = constant.kwykURL+\"get/topics/custom\";\n  const message = \"Please choose a topic ...\"\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const topics = fetchResponse.data\n  return (\n    <div className=\"subtopics\">\n    <DisplayMessage message={message}/>\n    <SelectionButtons topics={topics} getSelectedTopic={props.getSelectedTopic}\n        styling={props.styling}/>\n    </div>\n  );\n}\n\n\nfunction DisplaySubTopics(props){\n  if(props.topic){\n    return(\n      <div className=\"subtopics\">\n        <DisplayMessage message=\"Please choose a subtopic ...\"/>\n        <GetSubTopics getSelectedSubTopic={props.getSelectedSubTopic}\n                  styling={props.styling} topic={props.topic}/>\n      </div>\n    );\n  }\n  else{\n    return(\n      <div>\n      <DisplayMessage message=\"\"/>\n      <div className=\"subtopics-area\"></div>\n      </div>\n    );\n  }\n}\n","//admin interface\nimport React, {useState} from 'react';\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport '../static/css/contents.css';\nimport TopicSelectionScreen from \"./TopicSelectionScreen\";\nimport ReactGA from 'react-ga4';\n\nfunction DisplayTopic(){\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  const location = useLocation();\n  if(sessionStorage.getItem('useremail') == null){\n    const destinationPath = location.pathname\n    history.push({\n      pathname:`/`,\n      query: {destinationPath}\n    });\n    return null;\n  }\n  else{\n    return <TopicSelection/>\n  }\n}\n\nfunction TopicSelection(){\n    const [topic,setTopic] = useState(\"\");\n    const [subtopic,setSubTopic] = useState(\"\");\n    function getSelectedTopic(data){\n      setTopic(data);\n    }\n    function getSelectedSubTopic(data){\n      setSubTopic(data);\n    }\n    return(\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-lg-2\"></div>\n            <div className=\"col-lg-8 non-header\">\n              <Header />\n              <TopicSelectionScreen\n                  getSelectedTopic={getSelectedTopic}\n                  topic={topic}\n                  getSelectedSubTopic={getSelectedSubTopic}\n                  />\n              <DisplayStartButton topic={topic} subtopic={subtopic}/>\n            </div>\n          <div className=\"col-lg-2\"></div>\n        </div>\n      </div>\n\n    );\n}\n\nexport default DisplayTopic;\n\nfunction DisplayStartButton(props){\n  let history = useHistory();\n  let buttonDisplay;\n  if(props.subtopic){\n    buttonDisplay =\"block\";\n  }\n  else{\n    buttonDisplay =\"none\";\n  }\n  function handleClick(e){\n      initializeSessionStorage(props.topic, props.subtopic)\n      history.push({\n        pathname:'/chat/'+props.topic+'/'+props.subtopic,\n      });\n  }\n  return(\n    <button className=\"start-button fixed-bottom\" value=\"start\"\n      onClick={handleClick} style={{display: buttonDisplay}}>Start</button>\n\n  );\n}\n\nfunction initializeSessionStorage(topic, subtopic) {\n  sessionStorage.setItem('topic', topic);\n  sessionStorage.setItem('subtopic', subtopic);\n  sessionStorage.setItem('minutes', 0);\n  sessionStorage.setItem('seconds', 0);\n  sessionStorage.setItem('userResponses', JSON.stringify([]));\n  sessionStorage.setItem('retry', false);\n}\n","import React from 'react';\nimport '../static/css/header.css';\nimport clock from '../static/images/clock.png';\n\n\nfunction TimerHeader(props){\n  const time = props.time;\n  const username = sessionStorage.getItem('username');\n  return(\n    <div className=\"row headercontainer timer-row\">\n      <div className=\"col-8\">\n        {username}\n      </div>\n      <div className=\"col-4\">\n        <img src={clock} className=\"clock-img\" alt=\"logo\" />\n        {time[0]} : {time[1]}\n      </div>\n    </div>\n  );\n}\n\nexport default TimerHeader;\n","import { useState, useEffect } from \"react\";\nimport '../static/css/header.css';\n\nconst useTimer = (mins, secs) => {\n    const [seconds, setSeconds] = useState(secs);\n    const [minutes, setMinutes] = useState(mins);\n    useEffect(() => {\n      const time = setInterval(setTime, 1000);\n        return () => {\n          clearInterval(time);\n          //props.getTime(minutes,seconds);\n        }\n    },[seconds]);\n\n    function setTime(){\n      setSeconds(seconds + 1);\n      if(seconds === 59){\n        setSeconds(0);\n        setMinutes(minutes + 1);\n      }\n    }\n\n    return(\n        [minutes,seconds]\n    );\n}\n\nexport default useTimer;\n","import { useState, useEffect } from \"react\";\n\nfunction usePost(url, dataText, defaultResponse) {\n  const [data, setData] = useState(defaultResponse);\n  const  requestOptions = {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify(dataText)\n  };\n  async function postDataToAPI() {\n    try {\n      const res = await fetch(url, requestOptions);\n      const result = await res.json();\n      setData({\n        isLoading: false,\n        data: result\n      });\n    } catch (e) {\n      setData({\n        isLoading: false,\n        error: e\n      });\n    }\n  }\n\n  useEffect(() => {\n    postDataToAPI()\n  }, [url]);\n  return data;\n}\n\nexport default usePost;\n","import React from \"react\";\nimport * as constant from '../components/Constants';\nimport DisplayAlert from '../components/DisplayAlert';\nimport useFetch from \"../hooks/useFetch\";\n\nfunction useGetAttempted(useremail) {\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const url = constant.kwykURL+\"user_attempts_custom/\"+useremail+\"/\"+topic+\"/\"+subtopic;\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const data = fetchResponse.data;\n  const attemptedWords = data['attempted_words'];\n  const attemptedCount = attemptedWords.length;\n  const totalWords = data['topic_words'];\n  const totalWordCount = totalWords.length;\n  const skippedWords = data['skipped_words'];\n  const skippedWordCount = getUniqueSkips(attemptedWords,skippedWords).length;\n  sessionStorage.setItem('userResponses',JSON.stringify(attemptedWords));\n  sessionStorage.setItem('skipped', skippedWordCount);\n  sessionStorage.setItem('attempted', attemptedCount);\n  sessionStorage.setItem('totalWordCount', totalWordCount);\n}\n\nexport default useGetAttempted;\n\nfunction getUniqueSkips(attemptedWords,skippedWords) {\n  skippedWords = Object.values(skippedWords).filter( ( el ) => !Object.values(attemptedWords).includes( el ) );\n  return skippedWords;\n}\n","import React, {useState, useEffect, useRef} from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport TimerHeader from \"../headers/TimerHeader\";\nimport useTimer from \"../hooks/useTimer\";\nimport ideapng from '../static/images/idea.png';\nimport sendlogo from '../static/images/send.png';\nimport '../static/css/chat.css';\nimport * as constant from '../components/Constants'\nimport usePost from \"../hooks/usePost\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport DisplayAlert from '../components/DisplayAlert';\nimport SessionHeader from \"../headers/SessionHeader\";\nimport useGetAttempted from \"../hooks/useGetAttempted\";\nimport ReactGA from 'react-ga4';\n\nvar time;\nvar currentWord = '';\nvar is_retry;\nvar totalCount = 0;\n\nfunction ChatBot(){\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  console.log(path);\n  let history = useHistory();\n  const location = useLocation();\n  console.log(sessionStorage);\n  if(sessionStorage.getItem('useremail') == null){\n    const destinationPath = location.pathname\n    history.push({\n      pathname:`/`,\n      query: {destinationPath}\n    });\n    return null;\n  }\n  else{\n    return <DisplayTest />\n  }\n}\n\nexport default ChatBot;\n\n\nfunction DisplayTest() {\n  let chatMessages = '';\n  let prevWords = [];\n  is_retry = false;\n  if(sessionStorage.getItem('retry') === 'true'){\n    is_retry = true;\n    chatMessages=[\"retry\"];\n  }\n  else{\n    chatMessages=[\"welcome\",\"first\"];\n  }\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n  const topic = sessionStorage.getItem('topic');\n  const username = sessionStorage.getItem('username');\n  const useremail = sessionStorage.getItem('useremail');\n  useGetAttempted(useremail);\n  if(sessionStorage.getItem('userResponses')){\n    prevWords = JSON.parse(sessionStorage.getItem('userResponses'));\n  }\n  const attemptedCount = parseInt(sessionStorage.getItem('attempted'));\n  const skippedCount = parseInt(sessionStorage.getItem('skipped'));\n  totalCount = attemptedCount + skippedCount\n\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 non-header\">\n          <Header topic={topic} username={username}/>\n          <ShowTimeHeader/>\n          <DisplayChat minutes={minutes}\n                     seconds={seconds}\n                     chatMessages={chatMessages}\n                     prevWords={prevWords}\n                     totalCount={totalCount}\n                     />\n        </div>\n        <div className=\"col-lg-2\"></div>\n      </div>\n    </div>\n  );\n}\n\n\nfunction ShowTimeHeader(){\n  const minutes = parseInt(sessionStorage.getItem('minutes'));\n  const seconds = parseInt(sessionStorage.getItem('seconds'));\n  time=useTimer(minutes, seconds);\n  return '';\n}\n\n\nfunction DisplayChat(props){\n  const [chatMessages, setChatMessages] = useState(props.chatMessages);\n  const [userInput, setUserInput] = useState(\"\");\n  const actions = [\"welcome\",\"first\",\"next\",\"skip\",\"skipall\",\"hint\",\"afterinput\",\"retry\"];\n  function getUserInput(input){\n    setUserInput(input);\n  }\n  function addChat(message){\n    if(actions.includes(message)){\n      setChatMessages([...chatMessages,message]);\n    }\n    else{\n      setChatMessages([...chatMessages,message,\"afterinput\"]);\n    }\n  }\n  const chatList = chatMessages.map((message,index) => {\n    return <GetChatMessages message={message} key={index}\n         prevWords={props.prevWords} userInput={userInput} addChat={addChat}/>\n  }\n );\n const messagesEndRef = useRef(null);\n useEffect(() => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n  },[chatList]);\n return(\n    <div className=\"chatcolor\">\n      <div className=\"chatarea\">\n      <ul>\n        {chatList}\n        <li><div className=\"scroll-div\" ref={messagesEndRef} /></li>\n      </ul>\n      </div>\n        <DisplayForm addChat={addChat} getUserInput={getUserInput}/>\n    </div>\n  );\n}\n\n\nfunction GetChatMessages(props) {\n  const message = props.message;\n  if(message ===\"welcome\"){\n    return <ShowWelcomeChat />;\n  }else if(message ===\"first\" || message ===\"next\" || message ===\"skip\" || message ===\"skipall\" ||message ===\"retry\"){\n    return <GetWord addChat={props.addChat} message={message} prevWords={props.prevWords}/>\n  }\n  else if(message ===\"hint\"){\n    return <ShowHint addChat={props.addChat} />\n  }\n  else if(message ===\"afterinput\"){\n    return <GetWord addChat={props.addChat} message={props.userInput} prevWords={props.prevWords}/>\n  }\n  else{\n    return <DisplayUserInput input={message}/>\n  }\n}\n\n\nfunction ShowWelcomeChat(props){\n  const textArea = document.querySelector('textarea');\n  const textRowCount = textArea ? textArea.value.split(\"\\n\").length : 0;\n  const rows = textRowCount + 3;\n  return(\n    <li>\n      <div className=\"row bot\">\n        <TextareaAutosize className=\"botmessage\" rows={rows} value={constant.welcomeMessage} rowsMin={3} disabled/>\n      </div>\n    </li>\n  );\n}\n\n\nfunction GetWord(props){\n\n  let history = useHistory();\n  const url = constant.postURL;\n  let text = getCommand(props.message);\n  const useremail = sessionStorage.getItem('useremail');\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const session = sessionStorage.getItem('session');\n  const dataText = { \"text\": text, \"username\": useremail, \"session\":session, \"referrer\":window.location.href};\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const word = fetchResponse.data.text;\n  if(word === 'finish_topic'){\n    sessionStorage.setItem('minutes', time[0]);\n    sessionStorage.setItem('seconds', time[1]);\n    history.push({\n      pathname:`/user_stats/${topic}/${subtopic}`\n    });\n  }\n  if (word === 'wrong_command'){\n    history.push({\n      pathname:`/error`\n    });\n  }\n  currentWord = word;\n  let prevWords =props.prevWords;\n  if(prevWords.includes(word)){\n    return <Test word={word} addChat={props.addChat} message={props.message}/>\n  }\n  else{\n    let messageText;\n    if (props.message==='first'){\n      if (totalCount > 0){\n        const wordText = totalCount===1 ? \"term\" : \"terms\";\n        messageText = \"You have already attempted/skipped \"+ totalCount +\" \"+wordText+\"\\n Your next term is '\"+word + \"'\";\n      }\n      else{\n        messageText = \"Your first term is '\"+word + \"'\";\n      }\n    }\n    else{\n      messageText = \"Your next term is '\"+word + \"'\";\n    }\n    return (<BotReply message={messageText}  addChat={props.addChat} />);\n  }\n}\n\nfunction Test(props) {\n  useEffect(()=>{\n    if (props.message==='first'){\n      props.addChat(\"first\");\n    }\n    else{\n      props.addChat(\"next\");\n    }\n  },[props.word])\n  return <div></div>\n}\n\nfunction ShowHint(props){\n  const url = constant.postURL;\n  const text = '/explain';\n  const useremail = sessionStorage.getItem('useremail');\n  const session = sessionStorage.getItem('session');\n\n  const dataText = { \"text\": text, \"username\": useremail, \"session\": session, \"referrer\":window.location.href}\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const hint = fetchResponse.data.text;\n\n  return( <BotReply message={hint} addChat={props.addChat} />);\n}\n\nfunction DisplayForm(props){\n  const [userInput, setUserInput] = useState(\"\");\n  let attemptedCount = parseInt(sessionStorage.getItem('attempted'));\n  let skippedCount = parseInt(sessionStorage.getItem('skipped'));\n  const totalWordCount = parseInt(sessionStorage.getItem('totalWordCount'));\n  const buttonText = \"Skip\"\n  function handleClick(){\n    if(userInput.length > 0){\n      props.getUserInput(userInput);\n      props.addChat(userInput);\n      setUserInput(\"\");\n      attemptedCount++;\n      sessionStorage.setItem('attempted', attemptedCount);\n      /*updateAttemptedCount();\n      if(is_retry){\n        updateSkippedCount('reduce');\n      }*/\n    }\n  }\n  function handleChange(e){\n    setUserInput(e.target.value);\n  }\n  function handleHint(e){\n    props.addChat(\"hint\");\n  }\n  function handleKeyPress(e){\n    if(e.charCode === 13){\n        e.preventDefault();\n        handleClick();\n    }\n  }\n  function handleSkip(e){\n      props.addChat(\"skip\")\n      skippedCount++;\n      sessionStorage.setItem('skipped', skippedCount);\n      /*if(!is_retry){\n        updateSkippedCount('add');\n      }*/\n  }\n  function handleSkipAll(){\n      sessionStorage.setItem('skipall', true);\n      props.addChat(\"skipall\")\n      //let totalAttempted = attemptedCount + skippedCount\n      skippedCount = totalWordCount - attemptedCount\n      sessionStorage.setItem('skipped', skippedCount);\n      /*skippedCount++;\n      sessionStorage.setItem('skipped', skippedCount);\n      /*if(!is_retry){\n        updateSkippedCount('add');\n      }*/\n  }\n  function handleConfirmation(){\n    const confirmBox = window.confirm(\n      \"Do you want to skip all the terms?\"\n    )\n    if (confirmBox === true) {\n      handleSkipAll()\n    }\n  }\n\n  return(\n    <div className=\"row input-area chatcolor\">\n      <button className=\"ideabutton\" value=\"start\" onClick={handleHint}>\n        <img src={ideapng} className=\"idealogo\" alt=\"logo\" />\n      </button>\n      <button className=\"skipbutton\" onClick={handleSkip}>{buttonText}</button>\n      <button className=\"skipallbutton\" onClick={handleConfirmation}>SkipAll</button>\n      <TextareaAutosize className=\"input-text\" value={userInput} onChange={handleChange}\n        onKeyPress={handleKeyPress} required/>\n      <button className=\"sendbutton\" value=\"start\" onClick={handleClick}>\n        <img src={sendlogo} className=\"idealogo\" alt=\"logo\" />\n      </button>\n    </div>\n  );\n}\n\nfunction DisplayUserInput(props){\n  return(\n    <UserReply message={props.input} />\n  )\n}\n\nfunction BotReply(props){\n  const textArea = document.querySelector('textarea');\n  const textRowCount = textArea ? textArea.value.split(\"\\n\").length : 0;\n  const rows = textRowCount + 3;\n  return(\n    <li>\n      <div className=\"row bot\">\n        <TextareaAutosize className=\"botmessage\" rows={rows} value={props.message}\n        rowsMin={3} id=\"bottext\" disabled/>\n      </div>\n    </li>\n );\n}\n\nfunction  UserReply(props){\n  return(\n  <li>\n    <div className=\"row bot\">\n      <TextareaAutosize className=\"usermessage\" value={props.message} rowsMin={3} disabled />\n    </div>\n  </li>);\n}\n\n/*function updateSkippedCount(action) {\n  let skippedCount=parseInt(sessionStorage.getItem('skipped'));\n  action ==='add' ? skippedCount++ : skippedCount-- ;\n  sessionStorage.setItem('skipped', skippedCount);\n}\n\nfunction updateAttemptedCount() {\n  let attemptedCount=parseInt(sessionStorage.getItem('attempted'));\n  attemptedCount++;\n  sessionStorage.setItem('attempted', attemptedCount);\n}\n*/\nfunction getCommand(message){\n  let text;\n  switch(message){\n    case 'skip':\n      text = '/skip';\n      break;\n    case 'skipall':\n      text = '/skipall';\n      break;\n    case 'first':\n    case 'next':\n      text = '/new';\n      break;\n    case 'retry':\n      text = '/retry';\n      break;\n    default:\n      text = message;\n      break;\n  }\n  return text;\n}\n","\nexport function getTopic() {\n  let pathArray = window.location.href.split( '/' );\n  pathArray = pathArray.filter(function(entry) { return entry.trim() != ''; });\n  const subtopic = pathArray[pathArray.length - 1].replace(\"%20\", \" \");\n  const topic = pathArray[pathArray.length - 2].replace(\"%20\", \" \");\n  setSessionTopic(topic, subtopic);\n}\n\nfunction setSessionTopic(topic, subtopic) {\n  sessionStorage.setItem('topic', topic);\n  sessionStorage.setItem('subtopic', subtopic);\n\n}\n","import React, {useState, useEffect, useRef} from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport TimerHeader from \"../headers/TimerHeader\";\nimport useTimer from \"../hooks/useTimer\";\nimport ideapng from '../static/images/idea.png';\nimport sendlogo from '../static/images/send.png';\nimport '../static/css/chat.css';\nimport * as constant from '../components/Constants'\nimport usePost from \"../hooks/usePost\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport DisplayAlert from '../components/DisplayAlert';\nimport SessionHeader from \"../headers/SessionHeader\";\nimport useGetAttempted from \"../hooks/useGetAttempted\";\nimport ReactGA from 'react-ga4';\nimport * as getTopicSubTopic from '../utils/getTopicFromURL';\n\nvar time;\nvar currentWord = '';\nvar is_retry;\nvar totalCount = 0;\nconst useremail = 'sqatest@gmail.com'\nsessionStorage.setItem('useremail', useremail);\n\nfunction ChatBotOQ(){\n  console.log(\"ChatBotOQ\");\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  console.log(path);\n  let history = useHistory();\n  const location = useLocation();\n  getTopicSubTopic.getTopic()\n  return <DisplayTest />\n}\n\nexport default ChatBotOQ;\n\n\nfunction DisplayTest() {\n  let chatMessages = '';\n  let prevWords = [];\n  is_retry = false;\n  if(sessionStorage.getItem('retry') === 'true'){\n    is_retry = true;\n    chatMessages=[\"retry\"];\n  }\n  else{\n    chatMessages=[\"welcome\",\"first\"];\n  }\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n  const topic = sessionStorage.getItem('topic');\n  const username = sessionStorage.getItem('username');\n  const useremail = sessionStorage.getItem('useremail');\n  if(sessionStorage.getItem('userResponses')){\n    prevWords = JSON.parse(sessionStorage.getItem('userResponses'));\n  }\n\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 non-header\">\n          <Header topic={topic} username={username}/>\n          <ShowTimeHeader/>\n          <DisplayChat minutes={minutes}\n                     seconds={seconds}\n                     chatMessages={chatMessages}\n                     prevWords={prevWords}\n                     totalCount={totalCount}\n                     />\n        </div>\n        <div className=\"col-lg-2\"></div>\n      </div>\n    </div>\n  );\n}\n\n\nfunction ShowTimeHeader(){\n  const minutes = parseInt(sessionStorage.getItem('minutes'));\n  const seconds = parseInt(sessionStorage.getItem('seconds'));\n  time=useTimer(minutes, seconds);\n  return '';\n}\n\n\nfunction DisplayChat(props){\n  const [chatMessages, setChatMessages] = useState(props.chatMessages);\n  const [userInput, setUserInput] = useState(\"\");\n  const actions = [\"welcome\",\"first\",\"next\",\"skip\",\"skipall\",\"hint\",\"afterinput\",\"retry\"];\n  function getUserInput(input){\n    setUserInput(input);\n  }\n  function addChat(message){\n    if(actions.includes(message)){\n      setChatMessages([...chatMessages,message]);\n    }\n    else{\n      setChatMessages([...chatMessages,message,\"afterinput\"]);\n    }\n  }\n  const chatList = chatMessages.map((message,index) => {\n    return <GetChatMessages message={message} key={index}\n         prevWords={props.prevWords} userInput={userInput} addChat={addChat}/>\n  }\n );\n const messagesEndRef = useRef(null);\n useEffect(() => {\n    messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n  },[chatList]);\n return(\n    <div className=\"chatcolor\">\n      <div className=\"chatarea\">\n      <ul>\n        {chatList}\n        <li><div className=\"scroll-div\" ref={messagesEndRef} /></li>\n      </ul>\n      </div>\n        <DisplayForm addChat={addChat} getUserInput={getUserInput}/>\n    </div>\n  );\n}\n\n\nfunction GetChatMessages(props) {\n  const message = props.message;\n  if(message ===\"welcome\"){\n    return <ShowWelcomeChat />;\n  }else if(message ===\"first\" || message ===\"next\" || message ===\"skip\" || message ===\"skipall\" ||message ===\"retry\"){\n    return <GetWord addChat={props.addChat} message={message} prevWords={props.prevWords}/>\n  }\n  else if(message ===\"hint\"){\n    return <ShowHint addChat={props.addChat} />\n  }\n  else if(message ===\"afterinput\"){\n    return <GetWord addChat={props.addChat} message={props.userInput} prevWords={props.prevWords}/>\n  }\n  else{\n    return <DisplayUserInput input={message}/>\n  }\n}\n\n\nfunction ShowWelcomeChat(props){\n  const textArea = document.querySelector('textarea');\n  const textRowCount = textArea ? textArea.value.split(\"\\n\").length : 0;\n  const rows = textRowCount + 3;\n  return(\n    <li>\n      <div className=\"row bot\">\n        <TextareaAutosize className=\"botmessage\" rows={rows} value={constant.welcomeMessage} rowsMin={3} disabled/>\n      </div>\n    </li>\n  );\n}\n\n\nfunction GetWord(props){\n\n  let history = useHistory();\n  const url = constant.postURL;\n  let text = getCommand(props.message);\n  const useremail = sessionStorage.getItem('useremail');\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const session = sessionStorage.getItem('session');\n  const dataText = { \"text\": text, \"username\": useremail, \"session\":session, \"referrer\":window.location.href, \"sqa\":true};\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const word = fetchResponse.data.text;\n  if(word === 'finish_topic'){\n    return <Test word={word} addChat={props.addChat} message={word}/>\n  }\n  if (word === 'wrong_command'){\n    history.push({\n      pathname:`/error`\n    });\n  }\n  currentWord = word;\n  let prevWords =props.prevWords;\n  if(prevWords.includes(word)){\n    return <Test word={word} addChat={props.addChat} message={props.message}/>\n  }\n  else{\n    let messageText = \"'\"+word+\"'\";\n    return (<BotReply message={messageText}  addChat={props.addChat} />);\n  }\n}\n\nfunction Test(props) {\n  console.log(\"Test\");\n  useEffect(()=>{\n    if (props.message==='finish_topic'){\n      props.addChat(\"retry\");\n    }\n    else if (props.message==='first'){\n      props.addChat(\"first\");\n    }\n    else{\n      props.addChat(\"next\");\n    }\n  },[props.word])\n  return <div></div>\n}\n\nfunction ShowHint(props){\n  const url = constant.postURL;\n  const text = '/explain';\n  const useremail = sessionStorage.getItem('useremail');\n  const session = sessionStorage.getItem('session');\n\n  const dataText = { \"text\": text, \"username\": useremail, \"session\": session, \"referrer\":window.location.href}\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const hint = fetchResponse.data.text;\n\n  return( <BotReply message={hint} addChat={props.addChat} />);\n}\n\nfunction DisplayForm(props){\n  const [userInput, setUserInput] = useState(\"\");\n  const buttonText = \"Skip\";\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  let history = useHistory();\n  function handleClick(){\n    if(userInput.length > 0){\n      props.getUserInput(userInput);\n      props.addChat(userInput);\n      setUserInput(\"\");\n      history.push({\n        pathname:`/view_responses_oq/${topic}/${subtopic}`\n      });\n    }\n  }\n  function handleChange(e){\n    setUserInput(e.target.value);\n  }\n  function handleHint(e){\n    props.addChat(\"hint\");\n  }\n  function handleKeyPress(e){\n    if(e.charCode === 13){\n        e.preventDefault();\n        handleClick();\n    }\n  }\n  function handleSkip(e){\n      props.addChat(\"skip\")\n\n  }\n  function handleSkipAll(){\n      sessionStorage.setItem('skipall', true);\n      props.addChat(\"skipall\")\n  }\n  function handleConfirmation(){\n    const confirmBox = window.confirm(\n      \"Do you want to skip all the terms?\"\n    )\n    if (confirmBox === true) {\n      handleSkipAll()\n    }\n  }\n\n  return(\n    <div className=\"row input-area chatcolor\">\n      <button className=\"ideabutton\" value=\"start\" onClick={handleHint}>\n        <img src={ideapng} className=\"idealogo\" alt=\"logo\" />\n      </button>\n      <button className=\"skipbutton\" onClick={handleSkip}>{buttonText}</button>\n      <button className=\"skipallbutton\" onClick={handleConfirmation}>SkipAll</button>\n      <TextareaAutosize className=\"input-text\" value={userInput} onChange={handleChange}\n        onKeyPress={handleKeyPress} required/>\n      <button className=\"sendbutton\" value=\"start\" onClick={handleClick}>\n        <img src={sendlogo} className=\"idealogo\" alt=\"logo\" />\n      </button>\n    </div>\n  );\n}\n\nfunction DisplayUserInput(props){\n  return(\n    <UserReply message={props.input} />\n  )\n}\n\nfunction BotReply(props){\n  const textArea = document.querySelector('textarea');\n  const textRowCount = textArea ? textArea.value.split(\"\\n\").length : 0;\n  const rows = textRowCount + 3;\n  return(\n    <li>\n      <div className=\"row bot\">\n        <TextareaAutosize className=\"botmessage\" rows={rows} value={props.message} style={{\"fontSize\":\"1.2em\"}}\n        rowsMin={3} id=\"bottext\" disabled/>\n      </div>\n    </li>\n );\n}\n\nfunction  UserReply(props){\n  return(\n  <li>\n    <div className=\"row bot\">\n      <TextareaAutosize className=\"usermessage\" value={props.message} rowsMin={3} disabled />\n    </div>\n  </li>);\n}\n\nfunction getCommand(message){\n  let text;\n  switch(message){\n    case 'skip':\n      text = '/skip';\n      break;\n    case 'skipall':\n      text = '/skipall';\n      break;\n    case 'first':\n    case 'next':\n      text = '/new';\n      break;\n    case 'retry':\n      text = '/retry';\n      break;\n    default:\n      text = message;\n      break;\n  }\n  return text;\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport TimerHeader from \"../headers/TimerHeader\";\nimport '../static/css/stats.css';\nimport * as constant from '../components/Constants';\nimport DisplayAlert from '../components/DisplayAlert';\nimport useGetAttempted from \"../hooks/useGetAttempted\";\nimport useFetch from \"../hooks/useFetch\";\nimport ReactGA from 'react-ga4';\n\nfunction UserStats(){\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  const useremail = sessionStorage.getItem('useremail');\n  if(useremail == null){\n    history.push({\n      pathname:`/`\n    });\n    return null;\n  }\n  else{\n    return <CheckStatsAndDisplay useremail={useremail}/>\n  }\n}\n\nfunction CheckStatsAndDisplay(props) {\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const useremail = sessionStorage.getItem('useremail');\n  useGetAttempted(useremail);\n  const attemptedCount = parseInt(sessionStorage.getItem('attempted'));\n  const skippedWordCount = parseInt(sessionStorage.getItem('skipped'));\n  const totalWordCount = parseInt(sessionStorage.getItem('totalWordCount'));\n  let history = useHistory();\n  /*if((skippedWordCount === 0) && (attemptedCount === totalWordCount)){\n    history.push({\n        pathname:`/view_responses/${topic}/${subtopic}`\n      });\n    return null;\n  }\n  else {*/\n    //if(attemptedCount === 0 && (sessionStorage.getItem('skipall') === 'false')){\n    if(attemptedCount === 0 && (skippedWordCount !== totalWordCount)){\n      sessionStorage.setItem('retry', true);\n      history.push({\n          pathname:`/chat/${topic}/${subtopic}`\n        });\n      return null;\n    }\n    else{\n      return <StatsPage topic={topic} subtopic={subtopic}/>\n    }\n  //}\n}\n\nfunction StatsPage(props){\n  const minutes = parseInt(sessionStorage.getItem('minutes'));\n  const seconds = parseInt(sessionStorage.getItem('seconds'));\n  const username = sessionStorage.getItem('username');\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 chatcolor\">\n            <Header username={username} />\n            <ShowTimeHeader minutes={minutes} seconds={seconds}/>\n            <DisplayStats minutes={minutes} seconds={seconds} topic={props.topic}\n            subtopic={props.subtopic} />\n        </div>\n        <div className=\"col-lg-2\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default UserStats;\n\nfunction ShowTimeHeader(props){\n  return '';\n}\n\nfunction DisplayStats(props){\n  let history = useHistory();\n  const attemptedCount = parseInt(sessionStorage.getItem('attempted'));\n  const skippedCount = parseInt(sessionStorage.getItem('skipped'));\n  const totalWordCount = parseInt(sessionStorage.getItem('totalWordCount'));\n  const useremail = sessionStorage.getItem('useremail');\n  const url = constant.kwykURL+\"user_stats_custom/\"+useremail+\"/\"+props.topic+\"/\"+props.subtopic;\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n      return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n      return 'Loading...';\n  }\n  const data = fetchResponse.data\n  /*sessionStorage.setItem('responsesData', JSON.stringify(data))\n  if((skippedCount === 0) && (attemptedCount === totalWordCount)){\n    history.push({\n        pathname:`/view_responses/${props.topic}/${props.subtopic}`\n      });\n    return null;\n  }\n  else {*/\n    return(\n      <div className=\"stats-area\">\n        <DisplayScore minutes={props.minutes} seconds={props.seconds}\n        skippedCount={skippedCount} attemptedCount={attemptedCount}/>\n        <RetrySkips topic={props.topic} subtopic={props.subtopic} skippedCount={skippedCount}/>\n        <ViewResponses topic={props.topic} subtopic={props.subtopic} data={data} attemptedCount={attemptedCount}/>\n        <ViewExplanation topic={props.topic} subtopic={props.subtopic} skippedCount={skippedCount} attemptedCount={attemptedCount}/>\n      </div>\n    );\n//  }\n}\n\nfunction RetrySkips(props){\n  let history = useHistory();\n  if(props.skippedCount !== 0){\n    function handleClick(){\n      sessionStorage.setItem('retry', true);\n      history.push({\n        pathname:'/chat/'+props.topic+'/'+props.subtopic\n      });\n    }\n    return(\n      <div className= \"button-area\">\n      <button className=\"retry-button\" value=\"retry\" onClick={handleClick}>Retry Skipped Questions </button>\n      </div>\n    );\n  }\n  else{\n    return(\n      <div></div>\n    );\n  }\n}\n\nfunction ViewResponses(props){\n    sessionStorage.setItem('responsesData', JSON.stringify(props.data))\n\n    let history = useHistory();\n    if(props.attemptedCount > 0){\n      function handleClick(){\n        history.push({\n        pathname:`/view_responses/${props.topic}/${props.subtopic}`\n        });\n      }\n    return(\n      <div className= \"button-area\">\n      <button className=\"retry-button\" value=\"response\" onClick={handleClick}>See Popular Responses</button>\n      </div>\n    );\n  }\n  else{\n    return(\n      <div></div>\n    );\n  }\n}\n\nfunction ViewExplanation(props){\n    let history = useHistory();\n    const url = constant.kwykURL+\"explaination_custom\"+\"/\"+props.topic+\"/\"+props.subtopic+\"/\";\n    const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n    if (fetchResponse.error){\n      return <DisplayAlert message={fetchResponse.error} />\n    }\n    else if ( fetchResponse.isLoading) {\n      return 'Loading...';\n    }\n    const data = fetchResponse.data\n    if(data){\n      sessionStorage.setItem('explanationData', JSON.stringify(data))\n      function handleClick(){\n          history.push({\n          pathname:`/explanation/${props.topic}/${props.subtopic}`\n          });\n        }\n      return(\n        <div className= \"button-area\">\n        <button className=\"retry-button\" value=\"response\" onClick={handleClick}>See Explanation</button>\n        </div>\n      );\n    }\n    else{\n      return(\n        <div></div>\n      );\n    }\n}\n\n/*function SwitchTopic(){\n  let history = useHistory();\n  function handleClick(){\n    history.push('/topics')\n  }\n  return(\n    <div className= \"button-area\">\n    <button className=\"retry-button\" value=\"retry\" onClick={handleClick}>Switch Topic</button>\n    </div>\n  );\n}\n*/\nfunction FeedBack(){\n  let history = useHistory();\n  function handleClick(){\n      history.push('/feedback')\n\n  }\n  return(\n    <div className= \"button-area\">\n      <button className=\"retry-button\" value=\"retry\" onClick={handleClick}>Feedback</button>\n    </div>\n  );\n}\n\nfunction DisplayScore(props){\n  return(\n    <div className= \"display-area\">\n      <br />\n      <div className = \"row\">\n        <div className=\"col-12 topic-text center\">\n        You have completed this topic!\n        </div>\n      </div>\n      <div className = \"row\">\n        <div className=\"col-2 darkgrey\"></div>\n        <div className=\"col-4 stat-text left\">\n        #Attempted\n        </div>\n        <div className=\"col-6 topic-text left\">\n        : {props.attemptedCount}\n        </div>\n      </div>\n      <div className = \"row \">\n        <div className=\"col-2 darkgrey\"></div>\n        <div className=\"col-4 stat-text left\">\n        #Skipped\n        </div>\n        <div className=\"col-6 topic-text left\">\n        : {props.skippedCount}\n        </div>\n      </div>\n      <div className = \"row \">\n        <div className=\"col-2 darkgrey\"></div>\n        <div className=\"col-4 stat-text left\">\n        #Time Taken\n        </div>\n        <div className=\"col-6 topic-text left\">\n          : {props.minutes} mins : {props.seconds} secs\n        </div>\n      </div>\n    </div>\n  );\n}\n","import styled from \"styled-components\";\nexport const Tabs = styled.div`\n  overflow: hidden;\n  background: ${props => props.tabcolor};\n  font-family: \"Helvetica\";\n  height: 3em;\n  width:100%;\n`;\n\nexport const Tab = styled.button`\n  border: none;\n  outline: none;\n  cursor: pointer;\n  width: 50%;\n  position: relative;\n  background: ${props => props.tabcolor};\n\n  font-size: 1em;\n  border: ${props => (props.active ? \"1px solid #ccc\" : \"\")};\n  border-bottom: ${props => (props.active ? \"none\" : \"\")};\n  color: ${props => (props.active ? \"#000000\" : \"#959595\")};\n  height: ${props => (props.active ? \"2.6em\" : \"2.6em; top:.4em\")};\n  transition: background-color 0.5s ease-in-out;\n\n  :hover {\n    color: #000000;\n  }\n`;\nexport const Content = styled.div`\n  ${props => (props.active ? \"\" : \"display:none\")}\n`;\n","import React from \"react\";\nimport ReactWordcloud from 'react-wordcloud';\nimport { Resizable } from \"re-resizable\";\n\n\nfunction ShowWordCloud(props) {\n  if(props.data.length > 0){\n    const words = props.data;\n    const options = {\n      content: {\n        allowNumbers: false,\n        maxWords: 20,\n        stemmer: null,\n        stopwordsInput: '',\n        },\n      fontSizes: [40, 70],\n      rotations: 3,\n      rotationAngles: [0, 0],\n      padding: 3,\n      backgroundColor:\"#ffffff\"\n    }\n    const resizeStyle = {\n      background: \"#ede2d5\",\n      width:'70%',\n      height: '100%',\n      marginLeft: '15%',\n      marginRight: '15%',\n    }\n    return (\n      <ReactWordcloud className=\"wordcloud\" options={options} words={words} style={resizeStyle}/>\n    );\n  }\n  else {\n    return <div></div>\n  }\n}\n\nexport default ShowWordCloud;\n","import React from 'react';\nimport * as utils from '../utils/jsutils';\n\n\nfunction TopicHeader(props){\n  const username = sessionStorage.getItem('username');\n  return(\n    <div className=\"row headercontainer grey\">\n      <div className=\"col-12 grey\">\n        <span className=\"topic-label\"> Topic:</span>\n        <span className=\"topic-label\"> {utils.convertToCamelCase(props.subtopic)}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default TopicHeader;\n","//admin interface\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tabs, Tab, Content } from \"../components/Tab\";\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/header.css';\nimport '../static/css/stats.css';\nimport useFetch from \"../hooks/useFetch\";\nimport * as constant from '../components/Constants';\nimport DisplayAlert from '../components/DisplayAlert';\nimport ShowWordCloud from '../components/WordCloud'\nimport * as utils from '../utils/jsutils';\nimport TopicHeader from \"../headers/TopicHeader\";\nimport useGetAttempted from \"../hooks/useGetAttempted\";\nimport Collapse from 'react-bootstrap/Collapse';\nimport ReactGA from 'react-ga4';\n\nfunction Responses() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  if(sessionStorage.getItem('topic') == null){\n    history.push({\n      pathname:`/404`\n    });\n    return null;\n  }\n  else {\n    return <ShowResponsePage />\n  }\n}\n\nfunction ShowResponsePage() {\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const username = sessionStorage.getItem('username');\n  const useremail = sessionStorage.getItem('useremail');\n  useGetAttempted(useremail);\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-2\"></div>\n        <div className=\"col-md-8\">\n            <Header username={username}/>\n            <ShowResponses topic={topic} subtopic={subtopic}/>\n        </div>\n        <div className=\"col-md-2\"></div>\n      </div>\n    </div>\n  );\n}\n\n/*function ResponsesTab(props){\n  const [active, setActive] = useState(0);\n  let history = useHistory();\n  const handleClick = e => {\n    const index = parseInt(e.target.id, 0);\n    if(index === 0){\n      window.location.reload()\n    }\n    if (index !== active) {\n      setActive(index);\n    }\n  };\n  return(\n    <div className=\"tab-color\">\n      <Tabs tabcolor={constant.adminTabColor}>\n        <Tab onClick={handleClick} active={active === 0} id={0} tabcolor={constant.adminTabColor}>\n          Popular Responses\n        </Tab>\n        <Tab onClick={handleClick} active={active === 1} id={1} tabcolor={constant.adminTabColor}>\n          Explanation\n        </Tab>\n      </Tabs>\n      <>\n        <Content active={active === 0}>\n          <ShowResponses topic={props.topic} subtopic={props.subtopic}/>\n        </Content>\n        <Content active={active === 1}>\n          <ShowExplanation topic={props.topic} subtopic={props.subtopic}/>\n        </Content>\n      </>\n    </div>\n  );\n}*/\nexport default Responses;\n\nfunction ShowResponses(props){\n  const data = JSON.parse(sessionStorage.getItem('responsesData'));\n  const topicUserWords = JSON.parse(sessionStorage.getItem('userResponses'));\n  const topicWordsResponses = data[\"topic_answers\"];\n  const topicWords = topicWordsResponses[\"topic_words\"];\n  const topicTopWords = topicWordsResponses[\"top_words\"];\n  topicWords.sort();\n  const wordResponses = topicWords.map((word,index)=>{\n    if(topicUserWords.includes(word)){\n      return <DisplayWordResponses word={word} topicTopWords={topicTopWords} topicUserWords={topicUserWords} key={index}/>\n    }\n  });\n  return(\n    <div >\n      <TopicHeader topic={props.topic} subtopic={props.subtopic}/>\n      <div className= \"responses-area\">\n      <ul className=\"chatcolor\">\n        {wordResponses}\n      </ul>\n      </div>\n      <div className=\"bottom-area\"></div>\n    </div>\n  );\n}\n\n\nfunction DisplayWordResponses(props){\n  const userWords = props.topicUserWords[props.word];\n  const topWords = props.topicTopWords[props.word];\n  const size = topWords.length > 20 ? 20 : topWords.length\n\n  return(\n    <div className=\"word-response\">\n    <label className=\"topicname\">{props.word}</label>\n    <ShowWordCloud data={topWords.slice(0, size)} />\n    </div>\n  );\n}\n\nfunction DisplayWord(props){\n  let words = \"\"\n  if(props.words){\n    words = props.words.split(',');\n  }\n  return(\n    <div>\n    {words ?\n        <div className=\"white\">{words.map((word,index) => <div className=\"white\" key={index}>\n            <label className=\"word\">{word}</label>\n        </div>)}</div>\n        : null}\n    </div>\n  );\n}\n","//admin interface\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Tabs, Tab, Content } from \"../components/Tab\";\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/header.css';\nimport '../static/css/stats.css';\nimport useFetch from \"../hooks/useFetch\";\nimport * as constant from '../components/Constants';\nimport DisplayAlert from '../components/DisplayAlert';\nimport ShowWordCloud from '../components/WordCloud'\nimport * as utils from '../utils/jsutils';\nimport TopicHeader from \"../headers/TopicHeader\";\nimport useGetAttempted from \"../hooks/useGetAttempted\";\nimport Collapse from 'react-bootstrap/Collapse';\nimport ReactGA from 'react-ga4';\n\nfunction ResponsesOQ() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  console.log(history);\n  return <ShowResponsePage />\n}\n\nfunction ShowResponsePage() {\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const username = sessionStorage.getItem('username');\n  const useremail = sessionStorage.getItem('useremail');\n  useGetAttempted(useremail);\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-2\"></div>\n        <div className=\"col-md-8\">\n            <Header username={username}/>\n            <ShowResponses topic={topic} subtopic={subtopic}/>\n        </div>\n        <div className=\"col-md-2\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default ResponsesOQ;\n\nfunction ShowResponses(props){\n  const useremail = sessionStorage.getItem('useremail');\n  const url = constant.kwykURL+\"user_stats_custom/\"+useremail+\"/\"+props.topic+\"/\"+props.subtopic;\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n      return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n      return 'Loading...';\n  }\n  const data = fetchResponse.data\n  //const data = JSON.parse(sessionStorage.getItem('responsesData'));\n  //const topicUserWords = JSON.parse(sessionStorage.getItem('userResponses'));\n  const topicWordsResponses = data[\"topic_answers\"];\n  const topicWords = topicWordsResponses[\"topic_words\"];\n  const topicTopWords = topicWordsResponses[\"top_words\"];\n  topicWords.sort();\n  const wordResponses = topicWords.map((word,index)=>{\n    return <DisplayWordResponses word={word} topicTopWords={topicTopWords}  key={index}/>\n  });\n  return(\n    <div >\n      <TopicHeader topic={props.topic} subtopic={props.subtopic}/>\n      <div className= \"responses-area\">\n      <ul className=\"chatcolor\">\n        {wordResponses}\n      </ul>\n      </div>\n      <div className=\"bottom-area\"></div>\n    </div>\n  );\n}\n\n\nfunction DisplayWordResponses(props){\n  //const userWords = props.topicUserWords[props.word];\n  const topWords = props.topicTopWords[props.word];\n  const size = topWords.length > 20 ? 20 : topWords.length\n\n  return(\n    <div className=\"word-response\">\n    <label className=\"topicname\">{props.word}</label>\n    <ShowWordCloud data={topWords.slice(0, size)} />\n    </div>\n  );\n}\n\nfunction DisplayWord(props){\n  let words = \"\"\n  if(props.words){\n    words = props.words.split(',');\n  }\n  return(\n    <div>\n    {words ?\n        <div className=\"white\">{words.map((word,index) => <div className=\"white\" key={index}>\n            <label className=\"word\">{word}</label>\n        </div>)}</div>\n        : null}\n    </div>\n  );\n}\n","//admin interface\nimport React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Collapse from 'react-bootstrap/Collapse';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport '../static/css/admin.css';\nimport ShowWordCloud from '../components/WordCloud'\n\nfunction Statistics(props){\n  return(\n    <div className='stats'>\n      <DisplayStats data={props.data}/>\n    </div>\n  );\n}\n\nexport default Statistics;\n\nfunction DisplayStats(props) {\n  let totalUsers = 0, totalWords = 0;\n  let leastResponse =[];\n  let mostSkips =[];\n  let commonResponseCount =[];\n  let userResponseCount =[];\n  let userResponseData;\n  const stats = getStats(props.data);\n  const answeredCount =stats[\"answeredCount\"];\n  const skipsCount = stats[\"skipsCount\"];\n  commonResponseCount = stats[\"commonResponseCount\"];\n  const userAnswerCount = stats[\"userAnswerCount\"];\n  totalUsers = stats[\"totalUsers\"];\n  totalWords = stats[\"totalWords\"];\n  mostSkips = getSortedData(skipsCount,1); //second arg 1 to sort desc\n  leastResponse = getSortedData(answeredCount,0);\n  const userResponse = getResponseHist(userAnswerCount, totalWords);\n  userResponseData = userResponse[\"userDivisionData\"];\n  userResponseCount = userResponse[\"userResponseCount\"];\n  const displayItems = [\n                  {message:'Common user responses',data:commonResponseCount, maxVal:totalWords,\n                  type:'cloud'},\n                  {message:'Key terms with least responses',data:leastResponse,maxVal:totalUsers,\n                    type:'progress'},\n                  {message:'Key terms with most skips',data:mostSkips,maxVal:totalUsers,\n                type:'progress'},\n                  {message:'Key terms attempted by users',data:userResponseCount,maxVal:totalUsers,\n                  value:userResponseData,type:'progress'}\n                ]\n  const statButtons = displayItems.map((item,index)=>{\n    return <DisplayButton message={item.message} key={index} maxVal={item.maxVal}\n    data={item.data} value={item.value} type={item.type}/>\n  });\n  return(\n    <div className=\"display-stats\">\n    {statButtons}\n    </div>\n  );\n}\n\nfunction DisplayButton(props){\n  const [open, setOpen] = useState(false);\n  return(\n    <div className=\"display-btn\">\n      <Button\n        onClick={() => setOpen(!open)}\n        aria-controls=\"collapse-text\"\n        aria-expanded={open}\n        variant=\"stats\"\n        className=\"btn-stats\"\n      >\n        {props.message}\n      </Button>\n      <Collapse in={open} className=\"stats-data\">\n        <div className=\"chatcolor\">\n          <DisplayData maxVal={props.maxVal} data={props.data} value={props.value} type={props.type}/>\n        </div>\n      </Collapse>\n    </div>\n  );\n}\n\nfunction DisplayData(props) {\n\n  let data = props.data;\n  data.sort(function(a,b) {\n    return b.value - a.value\n  });\n  const size = data.length > 30 ? 30 : data.length\n  if(props.type === 'progress'){\n    return <ShowProgressBar maxVal={props.maxVal} data={props.data} value={props.value}/>\n  }\n  else{\n    return <ShowWordCloud maxVal={props.maxVal} data={data.slice(0, size)} />\n  }\n}\n\nfunction ShowProgressBar(props){\n    const data = props.data;\n    const maxVal = props.maxVal==0? 100:props.maxVal;\n    const statsBar = data.map((statData,index)=>{\n        const percent = statData[1];\n        const range = statData[0];\n        let popover;\n        if(props.value){\n          const names = props.value[range];\n          let users = names.join('\\n');\n          popover = (\n            <Popover>\n              <Popover.Title >Users</Popover.Title>\n              <Popover.Content>\n              { users}\n              </Popover.Content>\n            </Popover>\n          );\n        }\n        else{\n            popover = (\n              <Popover> </Popover>\n            );\n        }\n        return (\n          <div className=\"row\">\n            <div className=\"col-sm-4 white\">\n            <label className=\"data-label\"> {statData[0]} </label>\n            </div>\n            <div className=\"col-sm-8 white\">\n            <OverlayTrigger overlay={popover}>\n            <ProgressBar className=\"progress\" now={percent} label={`${percent} `} key={index} max={maxVal} min='0'/>\n            </OverlayTrigger>\n            </div>\n          </div>\n        );\n      });\n    return(\n    <div className=\"statsBar\">\n      {statsBar}\n    </div>\n    );\n}\n\nfunction getStats(data){\n  let skipsCount = {};\n  let answeredCount = {};\n  let wordResponses =[];\n  let userAnswerCount = {};\n  const topicData = data;\n  const words = topicData[\"topic_words\"];\n  const userWords = topicData[\"user_data\"];\n  const users = topicData[\"all_users\"];\n  const totalUsers = users.length;\n  const totalWords = words.length;\n  for(var i=0; i < words.length; i++){\n      const word = words[i];\n      skipsCount[word] = 0;\n      answeredCount[word] = 0;\n  }\n  for (i=0; i < words.length; i++){\n      const word = words[i];\n      for(const name of users){\n        if(!(name in userWords)){\n          skipsCount[word] += 1;\n        }\n        else{\n            const userEntries = userWords[name];\n            if(!Object.keys(userEntries).includes(word)){\n             skipsCount[word] += 1;\n           }\n           else {\n             userAnswerCount[name] = (userAnswerCount[name]||0)+1;\n             answeredCount[word] +=1;\n             wordResponses=wordResponses.concat(userEntries[word].split(\",\"))\n           }\n        }\n      }\n    /*  for(const [key, value] of Object.entries(userWords)){\n        console.log(\"key=\",key);\n        console.log(\"value=\",value);\n        const userEntries = value;\n        if(!Object.keys(userEntries).includes(word)){\n          skipsCount[word] += 1;\n        }\n        else{\n          userAnswerCount[key] = (userAnswerCount[key]||0)+1;\n          answeredCount[word] +=1;\n          wordResponses=wordResponses.concat(userEntries[word].split(\",\"))\n        }\n      }*/\n    }\n    wordResponses = getWordFrequency(wordResponses);\n    return {\"answeredCount\": answeredCount, \"skipsCount\": skipsCount, \"commonResponseCount\":wordResponses,\n    \"totalUsers\":totalUsers, \"userAnswerCount\":userAnswerCount,\n    \"totalWords\":totalWords}\n}\n\nfunction getWordFrequency(wordArray) {\n  var occurrences = wordArray.reduce(function(obj, index) {\n  obj[index] = (obj[index] || 0) + 1;\n  return obj;\n  }, {});\n  let words = [];\n  for(const [key, value] of Object.entries(occurrences)){\n    words.push({text:key,value:value})\n  }\n  return words;\n}\n\nfunction getSortedData(data,type,count=5){\n  let sortedData = [];\n  for (var word in data) {\n    sortedData.push([word, data[word]]);\n  }\n  sortedData.sort(function(a, b) {\n    if(type === 0){\n      return a[1] - b[1];\n    }\n    else{\n      return b[1] - a[1];\n    }\n  });\n  for(var n=count; n < sortedData.length; n++){\n    if(sortedData[n-1][1] === sortedData[n][1]){\n      count++;\n    }\n    else {\n      break;\n    }\n  }\n  return sortedData.slice(0,count);\n  }\n\nfunction getResponseHist(userData, totalWords) {\n  const divisions = [0, 0.25, 0.5, 0.75, 1];\n  let userDivisionData = {};\n  let userResponseCount =[]\n  //answerDivisions contains split up of word count\n  const answerDivisions = divisions.map((value,index) =>{\n    return `${Math.round(divisions[index] * totalWords)}`\n  });\n  //ansdivpercent = [\"0 - 24\", \"25 - 49\", \"50 - 74\", \"75 - 99\", \"100\"]\n  const ansdivpercent = divisions.map((value,index) =>{\n    let valRange;\n    if(parseInt(value) === 1){\n      valRange = `100%`;\n    }\n    else{\n      valRange = `${value * 100}-${divisions[index + 1]*100 -1}%`\n    }\n    userDivisionData[valRange] =[];\n    return valRange;\n  });\n  for(const [key, value] of Object.entries(userData)){\n    if(value === totalWords){\n      const centPercent = ansdivpercent[ansdivpercent.length - 1];\n      userDivisionData[centPercent].push(key)\n\n    }\n    else{\n      for(let i = 0; i < answerDivisions.length-1; i++){\n        if((value >= answerDivisions[i]) && ((value < answerDivisions[i+1]))){\n          const percent = ansdivpercent[i];\n          userDivisionData[percent].push(key);\n\n        }\n      }\n    }\n  }\n  let count = 0;\n  for(let i=0; i < ansdivpercent.length; i++){\n    const range = ansdivpercent[i];\n    if(userDivisionData[range]){\n      count=userDivisionData[range].length;\n    }\n    userResponseCount.push([range, count]);\n  }\n  return {\"userDivisionData\":userDivisionData, \"userResponseCount\":userResponseCount};\n}\n","import React from 'react';\nimport Header from \"../headers/KwykHeader\";\nfunction AdminAccessDenied() {\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <Header/>\n        <DisplayError />\n      </div>\n    </div>\n  );\n}\n\nexport default AdminAccessDenied;\n\nfunction DisplayError() {\n  return(\n    <div className='adminerror'>\n       <h4><div className='adminmessage'>Admin Access Denied</div></h4>\n    </div>\n  );\n}\n","//admin interface\nimport React, { useState } from \"react\";\nimport { Tabs, Tab, Content } from \"../components/Tab\";\nimport Header from \"../headers/KwykHeader\";\nimport '../static/css/header.css';\nimport '../static/css/admin.css';\nimport useFetch from \"../hooks/useFetch\";\nimport * as constant from '../components/Constants'\nimport Statistics from \"./Statistics\";\nimport DisplayAlert from '../components/DisplayAlert';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport AdminAccessDenied from '../components/AdminAccessDenied';\nimport ReactGA from 'react-ga4';\n\nfunction Insights() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  const location = useLocation();\n\n  /*if((sessionStorage.getItem('useremail') != null) &&\n      (sessionStorage.getItem('is_admin') === 'true')){*/\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <Header />\n          <StatisticsTab />\n        </div>\n      </div>\n    );\n/*  }\n  else{\n    if(sessionStorage.getItem('is_admin') === 'false'){\n      return <AdminAccessDenied />\n    }\n    const destinationPath = location.pathname\n    history.push({\n        pathname:`/`,\n        query: {destinationPath}\n      });\n    return null;\n  }*/\n}\n\nexport default Insights;\n\nfunction StatisticsTab(props){\n  const [active, setActive] = useState(0);\n  const handleClick = e => {\n    const index = parseInt(e.target.id, 0);\n    if (index !== active) {\n      setActive(index);\n    }\n  };\n  let urlSplit = window.location.href.split(\"analytics/\")[1].split('/')\n  urlSplit = urlSplit.filter(item => item);\n  const topic = urlSplit[0];\n  const subtopic = urlSplit[1];\n  var url = '';\n  if(urlSplit.length > 2){\n    const session = urlSplit[2];\n    url = constant.kwykURL+\"admin/user_data_custom/\"+topic+\"/\"+subtopic+\"/\"+session;\n  }\n  else{\n    url = constant.kwykURL+\"admin/user_data_custom/\"+topic+\"/\"+subtopic;\n  }\n\n  //const url = constant.kwykURL+\"admin/user_data_custom/\";\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const data = fetchResponse.data;\n\n  return(\n    <div className=\"tab-color\">\n      <Tabs tabcolor={constant.adminTabColor}>\n        <Tab onClick={handleClick} active={active === 0} id={0} tabcolor={constant.adminTabColor}>\n          Statistics\n        </Tab>\n        <Tab onClick={handleClick} active={active === 1} id={1} tabcolor={constant.adminTabColor}>\n          Insights\n        </Tab>\n      </Tabs>\n      <>\n        <Content active={active === 0}>\n          <Statistics data={data}/>\n        </Content>\n        <Content active={active === 1}>\n          <ShowInsights data={data}/>\n        </Content>\n      </>\n    </div>\n  );\n}\n\nfunction ShowInsights(props){\n  const [selectedView, setView] = useState(\"user\");\n  function getView(value){\n    setView(value);\n  }\n  const userData = props.data;\n  return(\n    <div className='insightsview'>\n      <div className=\"adminview-div row\">\n        <div className=\"col-lg-3 lightgreen\">\n          <ViewSelection getView={getView} view={selectedView}/>\n        </div>\n        <div className=\"col-lg-9 lightgreen\">\n          <ShowLegends selectedView={selectedView}/>\n        </div>\n      </div>\n      <DisplayUserData userData={userData} selectedView={selectedView}/>\n    </div>\n  );\n}\n\nfunction DisplayUserData(props){\n  let headerWords, limits;\n  const data = props.userData;\n  if(data){\n    const headerData = getHeaderWords(data, props.selectedView);\n    headerWords = headerData[\"headerWords\"];\n    limits = headerData[\"limits\"];\n  }\n  return(\n    <div className=\"display-data\">\n      <table className=\"container\">\n        <GetTableHeader selectedView={props.selectedView} headerWords={headerWords}/>\n        <GetTableData data={data} selectedView={props.selectedView} limits={limits}/>\n      </table>\n    </div>\n  );\n}\n\nfunction GetTableHeader(props){\n  let titleWord;\n   if(props.headerWords){\n     if(props.selectedView === \"user\"){\n       titleWord = \"Username\";\n     }\n     else{\n       titleWord = \"Key Terms\";\n     }\n     const header = props.headerWords.map((word,index)=>{\n       return <th className=\"data\" key={index}>{word}</th>\n     });\n     return(\n       <thead>\n         <tr>\n           <th style={{\"minWidth\":\"200px\"}}>{titleWord}</th>\n           {header}\n         </tr>\n      </thead>\n     );\n   }\n   else {\n     return <thead><tr></tr></thead>\n   }\n}\n\nfunction GetTableData(props){\n  let words, userData, users;\n  if(props.data){\n     words=props.data[\"topic_words\"];\n     userData = props.data[\"user_data\"];\n     users = props.data[\"all_users\"];\n  }\n  if(props.selectedView === \"user\"){\n    return <ViewByUsers words={words} userData={userData} users={users}/>\n  }\n  else{\n    return <ViewByResponses words={words} userData={userData} limits={props.limits}/>\n  }\n}\n\nfunction ViewSelection(props){\n  const [view, setView] = useState(props.view);\n  function handleChange(e){\n    setView(e.target.value);\n    props.getView(e.target.value);\n  }\n  return(\n    <div>\n    <div className=\"view lightgreen\">\n        Choose a view :\n      </div>\n      <div className=\"view lightgreen\">\n        <select className=\"view-select\" onChange={handleChange} defaultValue={'user'} value={view}>\n          <option value=\"user\">View By Users</option>\n          <option value=\"responses\"> View By Responses </option>)\n        </select>\n      </div>\n    </div>\n  );\n}\n\nfunction getHeaderWords(data, view) {\n  const userWords = data[\"user_data\"];\n  const totalUsers = data[\"all_users\"].length;\n  const divisions = [0, 0.25, 0.5, 0.75, 1];\n  const userDivisions = divisions.map((value,index) =>{\n    return `${(divisions[index] * totalUsers)}`\n  });\n  let headerWords=[];\n  let limits = [];\n  if(view === \"user\"){\n    headerWords = data[\"topic_words\"];\n  }\n  else{\n    const limitsData = getLimits(totalUsers, userDivisions);\n    headerWords = limitsData['headerWords'];\n    limits = limitsData['limits'];\n  }\n  return {\"headerWords\":headerWords, \"limits\":limits};\n}\n\nfunction ViewByUsers(props){\n    const userData = props.userData;\n    const users = props.users;\n    const words = props.words;\n    if(users){\n      const data = users.map((user,index)=>{\n          let userVal='';\n          if (userData[user]){\n            userVal = userData[user];\n          }\n          const userInput = words.map((word,index)=>{\n              if(userVal && userVal[word]){\n                return <td style={{backgroundColor:constant.userInsightGreen}} key={index}></td>;\n              }\n              else {\n                return <td style={{backgroundColor:constant.userInsightRed}} key={index}></td>;\n              }\n          });\n          return(\n            <tr key={index}>\n              <th className=\"rowheader\">{user}</th>\n              {userInput}\n            </tr>\n          );\n    });\n    return <tbody>{data}</tbody>\n  }\n  else{\n    return <tbody></tbody>\n  }\n}\n\nfunction ViewByResponses(props) {\n  const userData = props.userData;\n  const words = props.words;\n  let wordUserCount = {};\n  if(userData){\n    const data = words.map((word,index)=>{\n        wordUserCount[word] = getWordResponseCount(word, userData);\n    });\n  }\n  const tableData = Object.keys(wordUserCount).map((word, index)=>{\n    const wordCount = wordUserCount[word];\n    const wordRow = props.limits.map((limit, index)=>{\n      let wordColor = \"#ffffff\";\n      if((wordCount >= limit[0]) && (wordCount <= limit[1])){\n        wordColor  = constant.tableColors[index];\n      }\n      return <td style={{backgroundColor:wordColor}} key={index}></td>\n    });\n\n    return (\n      <tr key={index}>\n        <th className='rowheader'>{word}</th>\n        {wordRow}\n      </tr>\n    );\n  });\n  return <tbody>{tableData}</tbody>\n\n}\n\nfunction getWordResponseCount(word, userData){\n  let count = 0;\n  for(const [key, value] of Object.entries(userData)){\n    const userEntries = value;\n    if(Object.keys(userEntries).includes(word)){\n        count++;\n    }\n  }\n  return count;\n}\n\nfunction getLimits(totalUsers, userDivisions){\n  //let headerWords=[];\n  let limits = [];\n  const headerWords = [\"0 %\", \"1 - 25 %\", \"26 - 50 %\", \"51 - 75 %\", \"76 - 99 %\", \"100 %\"]\n  /*if(totalUsers < 5){\n    for(var i=0; i<=totalUsers; i++ ){\n      limits.push([i,i]);\n      //headerWords.push(actualDivisions[i]);\n    }\n  }\n  else{*/\n    //headerWords.push(actualDivisions[0]);\n    limits.push([0,0])\n    for(let index = 1; index < userDivisions.length; index++){\n      let begin = parseFloat(userDivisions[index-1]) + 0.1;\n      let end = parseFloat(userDivisions[index]);\n      if(end === totalUsers){\n        end = end - 0.1;\n      }\n      if(end < begin){\n        break;\n      }\n      if(begin === end){\n        //headerWords.push(end);\n        limits.push([end, end]);\n      }\n      else{\n        //headerWords.push(`${begin} - ${end}` );\n        limits.push([begin, end]);\n      }\n\n    }\n    //headerWords.push(actualDivisions[5]);\n    //headerWords.push(totalUsers);\n    limits.push([totalUsers, totalUsers]);\n  //}\n  var unique_limits = limits.map(ar=>JSON.stringify(ar))\n  .filter((itm, idx, arr) => arr.indexOf(itm) === idx)\n  .map(str=>JSON.parse(str));\n  return {\"headerWords\":headerWords, \"limits\":unique_limits};\n}\n\nfunction ViewByUsersLegend() {\n  return (\n    <div className=\"legend\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.userInsightGreen}}> </span>\n        answered\n        <span class=\"square\" style={{backgroundColor:constant.userInsightRed}}> </span>\n        unanswered\n      </div>\n    </div>\n  );\n}\n\nfunction ViewByResponsesLegend() {\n  return (\n    <div className=\" legend\">\n      <div className=\"row\" >\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[0]}}> </span>\n        No users attempted\n      </div>\n      </div>\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[1]}}> </span>\n        {\"<\"} 25% users attempted\n      </div>\n      </div>\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[2]}}> </span>\n        26 - 50% users\n      </div>\n      </div>\n      </div>\n      <div className=\"row\" >\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[3]}}> </span>\n        51 - 75% users\n      </div>\n      </div>\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[4]}}> </span>\n        76 - 99% users\n      </div>\n      </div>\n      <div className=\"col-md-4\">\n      <div className=\"row lightgreen\">\n        <span class=\"square\" style={{backgroundColor:constant.tableColors[5]}}> </span>\n        attempted by all users\n      </div>\n      </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ShowLegends(props) {\n  if(props.selectedView === \"user\"){\n    return <ViewByUsersLegend />\n  }\n  else{\n    return <ViewByResponsesLegend />\n  }\n}\n","import React,{useState} from 'react';\nimport knowbotpng from '../static/images/knowbotpng.png';\nimport '../static/css/login.css';\nimport { Tabs, Tab, Content } from \"../components/Tab\";\nimport * as constant from '../components/Constants'\nimport usePost from \"../hooks/usePost\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport Alert from 'react-bootstrap/Alert';\nimport ReactGA from 'react-ga4';\nvar session = \"\";\n\nfunction Login() {\n  console.log(\"login\");\n  console.log(sessionStorage);\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  const location = useLocation();\n  let history = useHistory();\n  if (location.query){\n    sessionStorage.setItem('destinationPath', location.query.destinationPath)\n  }\n\n  if((sessionStorage.getItem('destinationPath') !== '/admin') &&\n    ((sessionStorage.getItem('topic') == null) || (sessionStorage.getItem('subtopic') == null))){\n    history.push({\n      pathname:`/error`\n    });\n    return (<div></div>);\n  }\n  else if(sessionStorage.getItem('useremail') != null){\n    return <Redirect />;\n  }\n  else{\n    return <DisplayLogin />\n  }\n}\n\nfunction DisplayLogin(){\n  //sessionStorage.clear()\n\n  const sessionPath = window.location.href.split('?session=')[1]\n  if(typeof(sessionPath) !== 'undefined'){\n    session = sessionPath.split('/')[0]\n  }\n  //session = 'bspr1jun2021'  //fix for release 1.0 default session\n  return(\n    <div className=\"container\">\n      <DisplayIcon />\n      <LoginTab />\n      <DisplayAlert />\n    </div>\n  );\n}\n\nexport default Login;\n\nfunction DisplayIcon() {\n  return(\n    <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 window-color center\">\n          <div className=\"row login\">\n            <div className=\"col-4 window-color\">\n              <img src={knowbotpng} className=\"login-logo\" alt=\"logo\" />\n            </div>\n            <div className=\"col-8 window-color\">\n              <div className=\"row logintitle\">\n                Build Your Skills\n              </div>\n              <div className=\"row loginsubtitle\">\n                Assess your Python Skills\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-2\"></div>\n    </div>\n  );\n}\n\nfunction DisplayTitle() {\n  return(\n    <div className=\"row \">\n        <div className=\"col-lg-2 \"></div>\n        <div className=\"col-lg-8 window-color title\">\n            Build Your Skills - Assess your Python Skills\n        </div>\n        <div className=\"col-lg-2 \"></div>\n    </div>\n  );\n}\n\nfunction LoginTab(props){\n  const [active, setActive] = useState(0);\n  const handleClick = e => {\n    const index = parseInt(e.target.id, 0);\n    if (index !== active) {\n      setActive(index);\n    }\n  };\n\n  return(\n    <div className=\"row \">\n      <div className=\"col-lg-2 \"></div>\n        <div className=\"col-lg-8 window-color logintab\">\n    <div className=\"tab-color\">\n      <Tabs tabcolor={constant.loginTabColor}>\n        <Tab onClick={handleClick} active={active === 0} id={0} tabcolor={constant.loginTabColor}>\n          SignIn\n        </Tab>\n        <Tab onClick={handleClick} active={active === 1} id={1} tabcolor={constant.loginTabColor}>\n          SignUp\n        </Tab>\n      </Tabs>\n      <>\n        <Content active={active === 0}>\n          <SignInForm />\n        </Content>\n        <Content active={active === 1}>\n          <SignUpForm />\n        </Content>\n      </>\n    </div>\n    </div>\n    <div className=\"col-lg-2 \"></div>\n</div>\n  );\n}\n\nfunction SignInForm() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginMessage,setLoginMessage] = useState(\"\");\n  function handleSubmit(e) {\n    e.preventDefault();\n    const message = <ValidateUser email={email} password={password}/>\n    setLoginMessage(message);\n    setEmail(\"\")\n    setPassword(\"\")\n  }\n  function handleEmail(e){\n    setEmail(e.target.value);\n  }\n  function handlePassword(e) {\n    setPassword(e.target.value);\n  }\n  return(\n    <form className=\"loginform\" onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"email\" className=\"text\" placeholder=\"email\"\n      value={email} onChange={handleEmail} required/><br/>\n      <input type=\"password\" name=\"password\" className=\"text\" placeholder=\"password\"\n        value={password} onChange={handlePassword} required/><br/>\n      <label className=\"text\">{loginMessage}</label>\n      <input type=\"submit\" value=\"Sign In\" className=\"signin\"/>\n      <Link to='/reset'>\n      <div className='link reset'>Forgot password?</div>\n      </Link>\n    </form>\n  );\n}\n\nfunction SignUpForm() {\n  const [userName, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginMessage,setLoginMessage] = useState(\"\");\n  function handleSubmit(e) {\n    e.preventDefault();\n    const message = <CreateNewUser username={userName} email={email} password={password}/>\n    setLoginMessage(message);\n    setUserName(\"\")\n    setEmail(\"\")\n    setPassword(\"\")\n  }\n  function handleUserName(e) {\n    setUserName(e.target.value);\n  }\n  function handleEmail(e){\n    setEmail(e.target.value);\n  }\n  function handlePassword(e) {\n    setPassword(e.target.value);\n  }\n  return(\n    <form className=\"loginform\" onSubmit={handleSubmit}>\n      <input type=\"text\" id=\"username\" name=\"username\" className=\"text\" value={userName}\n        placeholder=\"username\" onChange={handleUserName} required/><br/>\n      <input type=\"text\" name=\"email\" className=\"text\" placeholder=\"email\"\n      value={email} onChange={handleEmail} required/><br/>\n      <input type=\"password\" name=\"password\" className=\"text\" placeholder=\"password\"\n      value={password} onChange={handlePassword} required/><br/>\n      <label className=\"text\">{loginMessage}</label>\n      <input type=\"submit\" value=\"Sign Up\" className=\"signin\"/>\n    </form>\n  );\n}\n\nfunction ValidateUser(props) {\n  const url = constant.loginURL;\n  const location = useLocation()\n  let loginMessage = '';\n  let sessionName = '';\n  const dataText = { \"email\": props.email, \"password\": props.password, \"session\": session, \"action\": \"signin\"}\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return <div className=\"window-color\">Loading...</div>;\n  }\n  const response = fetchResponse.data;\n\n  if(response['status'] === \"password mismatch\"){\n    loginMessage = \"Incorrect Password\";\n    sessionStorage.setItem('loginmessage', loginMessage);\n    window.location.reload();\n  }\n  else if(response['status'] === \"user not found\"){\n    loginMessage = \"Email id is not registered!\";\n    sessionStorage.setItem('loginmessage', loginMessage);\n    window.location.reload();\n  }\n  else{\n    loginMessage = \"Signed in Successfully!\";\n    sessionName = response['session_name'];\n    const userName = response['username'];\n    const is_admin = response['is_admin'];\n    setSessionStorage(userName, props.email, session, sessionName, is_admin);\n    return <Redirect />\n  }\n  return(``);\n}\n\nfunction CreateNewUser(props) {\n  const url = constant.loginURL;\n  const location = useLocation()\n  let loginMessage ='';\n  let sessionName = '';\n  const dataText = { \"username\":props.username, \"email\": props.email, \"password\": props.password,\n    \"session\": session, \"action\": \"signup\"}\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return <div className=\"window-color\">Loading...</div>;\n  }\n  const response = fetchResponse.data;\n  if (response['status'] === 'inserted'){\n    sessionName = response['session_name'];\n    const is_admin = false;\n    loginMessage = \"Signed Up Successfully!\";\n    setSessionStorage(props.username, props.email, session, sessionName, is_admin);\n    return <Redirect />\n  }\n  else if(response['status'] === 'duplicate'){\n    loginMessage = \"Email id is already registered\"\n    sessionStorage.setItem('loginmessage', loginMessage);\n    window.location.reload();\n  }\n  return(``)\n}\n\nfunction setSessionStorage(username, useremail, session, session_name, is_admin) {\n  sessionStorage.setItem('username', username);\n  sessionStorage.setItem('useremail', useremail);\n  sessionStorage.setItem('is_admin', is_admin);\n  if(session){\n    sessionStorage.setItem('session', session);\n    sessionStorage.setItem('session_name', session_name);\n  }\n  sessionStorage.removeItem('loginmessage');\n\n}\n\nfunction DisplayAlert() {\n  if(sessionStorage.getItem('loginmessage') != null){\n    let message = sessionStorage.getItem('loginmessage')\n    return(\n      <div className=\"row \">\n        <div className=\"col-md-2 \"></div>\n        <div className=\"col-md-8 window-color\">\n        <Alert variant='danger' className='alert'>\n          {message}\n          </Alert>\n        </div>\n        <div className=\"col-md-2 \"></div>\n      </div>\n    );\n  }\n  else {\n    return(\n      <div></div>\n    );\n  }\n}\n\n\nfunction initializeSessionStorage() {\n  sessionStorage.setItem('minutes', 0);\n  sessionStorage.setItem('seconds', 0);\n  sessionStorage.setItem('userResponses', JSON.stringify([]));\n  sessionStorage.setItem('retry', false);\n  sessionStorage.setItem('skipall', false);\n}\n\nfunction getTopicFromURL(destination) {\n  let topic, subtopic;\n  const urlSplit = destination.split('/');\n  if(urlSplit[urlSplit.length - 3] === 'chat'){\n    topic = urlSplit[urlSplit.length - 2]\n    subtopic = urlSplit[urlSplit.length - 1]\n  }\n  return {'topic':topic, 'subtopic': subtopic}\n}\n\nfunction getDestinationScreen(destination) {\n  const urlSplit = destination.split('/');\n  if(urlSplit[urlSplit.length - 1] === 'admin'){\n    return 'admin';\n  }\n  else if(urlSplit[urlSplit.length - 3] === 'chat') {\n    return 'chat';\n  }\n  return null;\n}\n\nfunction Redirect() {\n  let history = useHistory();\n  const location = useLocation()\n  let destination;\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  if(sessionStorage.getItem('destinationPath')){\n    destination = sessionStorage.getItem('destinationPath');\n    sessionStorage.removeItem('destinationPath');\n    const screenname = getDestinationScreen(destination);\n    if (screenname === 'chat'){\n      initializeSessionStorage()\n    }\n  }\n  else{\n    initializeSessionStorage()\n    destination = '/chat/'+topic+'/'+subtopic\n  }\n  history.push({\n      pathname:destination\n  });\n\n  return null;\n}\n","import React from 'react';\nimport '../static/css/header.css';\nimport knowbotSVG from '../static/images/knowbotpng.png';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton'\nimport * as constant from '../components/Constants'\nimport { useHistory } from \"react-router-dom\";\nimport * as utils from '../utils/jsutils'\n\nfunction Header(props){\n  let session = \"\";\n  let tagline =\"\";\n  let fontSize = \"1em\"\n  let username=\"\";\n  session = sessionStorage.getItem('session_name');\n  if(session === 'undefined'){\n    session = ''\n  }\n  if(sessionStorage.getItem('username')){\n    username = sessionStorage.getItem('username');\n  }\n  if(props.topic){\n    tagline = 'about '+utils.convertToCamelCase(props.topic)\n    fontSize = \"1em\"\n  }\n\n  return(\n    <div className=\"row headercontainer\">\n        <div className=\"col-12\">\n          <div className=\"row window-color\">\n            <div className=\"col-2 headerfont\">\n              <img src={knowbotSVG} className=\"knowbotlogo\" alt=\"logo\" />\n            </div>\n            <div className=\"col-md-10 col-10 headerfont\">\n              <div className=\"row title\">\n                Build Your Skills\n              </div>\n              <div className=\"row subtitle\">\n                Assess your Python Skills\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default Header;\n\nfunction DisplayDropDown() {\n  let history = useHistory();\n  function handleLogout() {\n    sessionStorage.clear();\n    history.push({\n      pathname:`/`\n    });\n  }\n  function handleFeedback() {\n      history.push({\n        pathname:`/feedback`\n      });\n    }\n  function handleAbout() {\n    history.push({\n      pathname:`/about`\n    });\n  }\n  const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n  <a\n    href=\"\"\n    ref={ref}\n    onClick={e => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  >\n    {children}\n    <i className=\"fas fa-ellipsis-v ellipsisbutton\"\n       style={{color:constant.blackColor,\n                backgroundColor: constant.whiteColor,\n                paddingTop: \"2vh\"}}>\n    </i>\n  </a>\n));\n\n  return (\n  <Dropdown style={{backgroundColor: constant.whiteColor}}>\n        <Dropdown.Toggle as={CustomToggle} />\n        <Dropdown.Menu size=\"sm\" title=\"\">\n          <Dropdown.Item href=\"#\" onClick={handleAbout} className=\"ellipsismenu\">About Us</Dropdown.Item>\n          <Dropdown.Item href=\"#\" onClick={handleFeedback} className=\"ellipsismenu\">FeedBack</Dropdown.Item>\n          <Dropdown.Item href=\"#\" onClick={handleLogout} className=\"ellipsismenu\">Logout</Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n\n  );\n\n}\n","import React from 'react';\nimport knowbotpng from '../static/images/knowbotpng.png';\nimport '../static/css/login.css';\nimport * as constant from '../components/Constants';\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/FrontPageHeader\";\nimport '../static/css/about.css';\nimport ReactGA from 'react-ga4';\n\nfunction UserLogin() {\n  console.log(\"UserLogin\");\n  sessionStorage.clear();\n  console.log(sessionStorage);\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  let pathArray = window.location.href.split( '/' );\n  pathArray = pathArray.filter(function(entry) { return entry.trim() != ''; });\n  const subtopic = pathArray[pathArray.length - 1].replace(\"%20\", \" \");\n  const topic = pathArray[pathArray.length - 2].replace(\"%20\", \" \");\n  setSessionTopic(topic, subtopic);\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 whitecolor\">\n          <Header />\n          <AboutPage />\n          <ShowLoginButton />\n        </div>\n      <div className=\"col-lg-2\"></div>\n    </div>\n  </div>\n  );\n}\n\nfunction setSessionTopic(topic, subtopic) {\n  sessionStorage.setItem('topic', topic);\n  sessionStorage.setItem('subtopic', subtopic);\n}\n\nexport default UserLogin;\n\nfunction AboutPage() {\n  return(\n    <div className='aboutpage'>\n      <br />\n      <p className='aboutparah'>\n        Build Skills is an initiative to help you build a new skill or improve an\n        existing skill. You can build a skill using the following framework.\n      </p>\n      <ol className='aboutparah'>\n        <li className='whitecolor'>1. Assess your current knowledge</li>\n        <li className='whitecolor'>2. Learn core concepts and a minimum set of details to build simple applications</li>\n        <li className='whitecolor'>3. Practice building several applications</li>\n      </ol>\n      <p className='aboutparah'>\n        We will help you in each step of the process.\n      </p>\n      <p className='aboutparah'>\n      Assess your knowledge <br />\n      This application allows you to pick a level (beginner, intermediate etc.) and answer a few open questions.\n      </p>\n      <p className='aboutparah'>\n      Each question is a term that specifies a concept and you are required to provide any associated terms you can think of.\n      </p>\n      <p className='aboutparah'>\n      At the end of the assessment, the app will show you your answers and along with answers of your peers.\n      </p>\n      <p className='aboutparah'>\n      You can skip questions anytime. You can also pick a concept and look at its description and sample uses.\n      </p>\n    </div>\n\n  );\n}\n\nfunction ShowLoginButton() {\n  let history = useHistory();\n  function handleClick() {\n    history.push({\n        pathname:'/'\n    });\n  }\n  return(\n    <div className='loginbuttonarea'>\n      <button value=\"Submit\" onClick={handleClick} className=\"aboutlogin\">Login/Register</button>\n    </div>\n  );\n}\n","import React,{useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/feedback.css';\nimport * as constant from '../components/Constants';\nimport ReactGA from 'react-ga4';\n\nfunction Feedback() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8\">\n          <Header />\n          <ShowTemplate />\n        </div>\n      <div className=\"col-lg-2\"></div>\n    </div>\n  </div>\n  );\n}\nexport default Feedback;\n\nfunction ShowTemplate() {\n  const [userInput, setUserInput] = useState(\"\");\n  const username = sessionStorage.getItem('username');\n  let history = useHistory();\n  function handleChange(e){\n    setUserInput(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const serviceID = 'default_service';\n    const templateId = 'template_09oi0b1';\n    sendFeedback(serviceID,templateId, {message: userInput, from_name:username, reply_to: \"<kwyktest01@gmail.com>, <dorait@gmail.com>, <ashish@imorph.com>, <shiny.suresh@gmail.com>\"});\n    setUserInput(\"\");\n    //sessionStorage.clear();\n    history.push({\n      pathname:`/thanks`\n    });\n  }\n  return(\n    <div >\n    <form className = \"fbarea\" onSubmit={handleSubmit}>\n    <div className=\"fblabel\">{constant.feedbackMessage}</div>\n    <div className=\"fblabel blank\"> Feedback / Issue / Query</div>\n    <textarea className=\"fbtext\" value={userInput} placeholder=\"Type your response here...\" onChange={handleChange}></textarea>\n    <input type=\"submit\" value=\"Submit\" className=\"fbsubmitbtn \"/>\n    </form>\n    </div>\n  );\n}\n\nfunction sendFeedback (serviceID,templateId, variables) {\n window.emailjs.send(\n   serviceID, templateId,\n   variables\n   ).then(res => {\n     console.log('Email successfully sent!')\n   })\n   // Handle errors here however you like, or use a React error boundary\n   .catch(err => console.error('Oh well, you failed. Here some thoughts on the error that occured:', err))\n }\n","import React,{useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/feedback.css';\nimport '../static/css/about.css';\nimport * as constant from '../components/Constants';\nimport ReactGA from 'react-ga4';\n\nfunction About() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8\">\n          <Header />\n          <ShowAboutUs />\n        </div>\n      <div className=\"col-lg-2\"></div>\n    </div>\n  </div>\n  );\n}\nexport default About;\n\nfunction ShowAboutUs() {\n  return(\n    <div className='fbarea'>\n      <br />\n      <p className='aboutlabel'>\n        Build Skills is an initiative to help you build a new skill or improve an\n        existing skill. You can build a skill using the following framework.\n      </p>\n      <ol className='aboutlabel'>\n        <li>1. Assess your current knowledge</li>\n        <li>2. Learn core concepts and a minimum set of details to build simple applications</li>\n        <li>3. Practice building several applications</li>\n      </ol>\n      <p className='aboutlabel'>\n        We will help you in each step of the process.\n      </p>\n      <p className='aboutlabel'>\n      Assess your knowledge <br />\n      This application allows you to pick a level (beginner, intermediate etc.) and answer a few open questions.\n      </p>\n      <p className='aboutlabel'>\n      Each question is a term that specifies a concept and you are required to provide any associated terms you can think of.\n      </p>\n      <p className='aboutlabel'>\n      At the end of the assessment, the app will show you your answers and along with answers of your peers.\n      </p>\n      <p className='aboutlabel'>\n      You can skip questions anytime. You can also pick a concept and look at its description and sample uses.\n      </p>\n      <p className='aboutlabel'>\n      Credits\n      </p>\n      <p className='aboutlabel'>\n      Product Team\n      </p>\n      <p className='aboutlabel'>\n      Ashish Cherian &nbsp;(<a href='https://twitter.com/ashish_che' target='_blank'>@ashish_che</a> &nbsp;&nbsp;&nbsp;<a\n      href='https://www.linkedin.com/in/reach2ashish/' target='_blank'>Thomas (Ashish) Cherian</a>)  - Backend Development <br/>\n      Dorai Thodla &nbsp;(<a href='https://twitter.com/dorait' target='_blank'>@dorait</a> &nbsp;&nbsp;&nbsp;<a\n      href='https://www.linkedin.com/in/doraithodla/' target='_blank'>Dorai Thodla</a>) - Tech Lead<br/>\n      Shiny Suresh &nbsp;(<a href='https://twitter.com/shiny_su' target='_blank'> @shiny_su</a> &nbsp;&nbsp;&nbsp;<a\n      href='https://www.linkedin.com/in/shiny-s-u-966281aa/' target='_blank'>Shiny S U</a>) - Frontend Development\n      </p>\n      <p className='aboutlabel'>\n      copyright iMorph 2021\n      </p>\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport * as constant from '../components/Constants'\nimport usePost from \"../hooks/usePost\";\nimport DisplayAlert from '../components/DisplayAlert';\nimport ReactGA from 'react-ga4';\n\nfunction PasswordReset() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-sm-2\"></div>\n        <div className=\"col-sm-8 chatcolor\">\n            <Header />\n            <br />\n            <ResetArea />\n        </div>\n        <div className=\"col-sm-2\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default PasswordReset;\n\nfunction ResetArea() {\n  const [email, setEmail] = useState(\"\");\n  const [btnValue, setBtnValue] = useState(\"Reset Password\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [pwdMessage,setPwdMessage] = useState(\"\");\n  let history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    let message = '';\n    if(newPassword === confirmPassword){\n      message = <ChangePwd email={email} password={newPassword}/>\n      setPwdMessage(message);\n      setBtnValue(\"Home\")\n      setEmail(\"\")\n      setNewPassword(\"\")\n      setConfirmPassword(\"\")\n    }\n    else {\n      message = \"Password Mismatch\";\n      setPwdMessage(message);\n    }\n  }\n  function handleEmail(e) {\n    setEmail(e.target.value);\n  }\n  function handleOldPassword(e) {\n    setNewPassword(e.target.value);\n  }\n  function handleNewPassword(e) {\n    setConfirmPassword(e.target.value);\n  }\n  function handleClick(e) {\n    if(e.target.value === 'Home'){\n      sessionStorage.removeItem('loginmessage');\n      history.push({\n          pathname:`/`,\n      });\n    }\n  }\n  return(\n    <div className=\"pwdreset\">\n    <form className=\"loginform\" onSubmit={handleSubmit}>\n      <label className=\"pwdtext\"> Change your password here...</label>\n      <input type=\"text\" name=\"email\" className=\"text\" placeholder=\"email id\"\n      value={email} onChange={handleEmail} required/><br/>\n      <input type=\"password\" name=\"password\" className=\"text\" placeholder=\"new password\"\n        value={newPassword} onChange={handleOldPassword} required/><br/>\n      <input type=\"password\" name=\"password\" className=\"text\" placeholder=\"confirm password\"\n          value={confirmPassword} onChange={handleNewPassword} required/><br/>\n      <label className=\"pwdmessage\">{pwdMessage}</label>\n      <input type=\"submit\" value={btnValue} className=\"pwdbtn\" onClick={handleClick}/>\n      </form>\n    </div>\n  );\n}\n\nfunction ChangePwd(props) {\n  const url = constant.pwdResetURL;\n  let message = '';\n  const dataText = { \"email\": props.email, \"password\": props.password}\n  const fetchResponse = usePost(url, dataText, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const response = fetchResponse.data;\n  if (response['status'] === 'success'){\n        message = constant.pwdResetSuccessMsg;\n  }\n  else{\n     message = constant.pwdResetFailedMsg;\n  }\n  return(`${message}`);\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/error.css';\nimport ReactGA from 'react-ga4';\n\nfunction Page404() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-sm-2\"></div>\n        <div className=\"col-sm-8 chatcolor\">\n            <Header />\n            <Display404 />\n        </div>\n        <div className=\"col-sm-2\"></div>\n      </div>\n    </div>\n  );\n}\nfunction Display404() {\n  return(\n    <div className='error'>\n       <h2><div className='message'>Error: 404 - Page not found</div></h2>\n    </div>\n  );\n}\n\nexport default Page404;\n","//admin interface\nimport React, {useState} from 'react';\nimport Header from \"../headers/KwykHeader\";\nimport '../static/css/contents.css';\nimport TopicSelectionScreen from \"./TopicSelectionScreen\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport AdminAccessDenied from '../components/AdminAccessDenied';\nimport * as constant from '../components/Constants';\nimport ReactGA from 'react-ga4';\n\nfunction AdminScreen() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  const location = useLocation();\n\n  if((sessionStorage.getItem('useremail') != null) && (sessionStorage.getItem('is_admin') === 'true')){\n        return <TopicSelection />\n  }\n  else{\n    if(sessionStorage.getItem('is_admin') === 'false'){\n      return <AdminAccessDenied />\n    }\n    const destinationPath = location.pathname\n    history.push({\n        pathname:`/`,\n        query: {destinationPath}\n      });\n    return null;\n  }\n}\nexport default AdminScreen;\n\nfunction TopicSelection(){\n    const [topic,setTopic] = useState(\"\");\n    const [subtopic,setSubTopic] = useState(\"\");\n    function getSelectedTopic(data){\n      setTopic(data);\n    }\n    function getSelectedSubTopic(data){\n      setSubTopic(data);\n    }\n    return(\n      <div className=\"container\">\n        <div className=\"row\">\n          <Header/>\n          <div className=\"topics-subtopics\">\n            <TopicSelectionScreen\n              getSelectedTopic={getSelectedTopic}\n              topic={topic}\n              getSelectedSubTopic={getSelectedSubTopic}\n              />\n            <DisplayButton topic={topic} subtopic={subtopic}/>\n          </div>\n        </div>\n      </div>\n    );\n}\n\nfunction DisplayButton(props){\n  let history = useHistory();\n  let buttonDisplay;\n  //const [buttonDisplay, setButtonDisplay] = useState(\"none\");\n  if(props.subtopic){\n    buttonDisplay =\"block\";\n  }\n  else{\n    buttonDisplay =\"none\";\n  }\n  function handleClick(e){\n      history.push({\n        pathname:'/admin/'+props.topic+'/'+props.subtopic\n      });\n  }\n  return(\n    <button className=\"next-button\" value=\"start\"\n      onClick={handleClick} style={{display: buttonDisplay}}>Next >> </button>\n  );\n}\n","import React from 'react';\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/error.css';\nimport ReactGA from 'react-ga4';\n\nfunction Error() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-lg-2\"></div>\n        <div className=\"col-lg-8 chatcolor\">\n            <Header />\n            <DisplayError />\n        </div>\n        <div className=\"col-lg-2\"></div>\n      </div>\n    </div>\n  );\n}\nfunction DisplayError() {\n  return(\n    <div className='error'>\n       <h4><div className='message'>Wrong topic or subtopic. Please check your URL!</div></h4>\n    </div>\n  );\n}\n\nexport default Error;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from \"../headers/KwykHeader\";\nimport SessionHeader from \"../headers/SessionHeader\";\nimport '../static/css/error.css';\nimport ReactGA from 'react-ga4';\n\nfunction FeedbackThanks() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n  //ReactGA.pageview(window.location.pathname + window.location.hash);\n  return(\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-sm-2\"></div>\n        <div className=\"col-sm-8 chatcolor\">\n            <Header />\n            <ThankYouMessage />\n        </div>\n        <div className=\"col-sm-2\"></div>\n      </div>\n    </div>\n  );\n}\nfunction ThankYouMessage() {\n  const history = useHistory();\n  function handleClick() {\n    const topic = sessionStorage.getItem('topic');\n    const subtopic = sessionStorage.getItem('subtopic');\n    sessionStorage.clear();\n    history.push({\n      pathname:`/${topic}/${subtopic}`\n    });\n  }\n  return(\n    <div className='thanks fbarea'>\n       <div className='fbtlabel'>Thank you for your feedback !</div>\n       <button className=\"fbsubmitbtn\" onClick={handleClick}>Home</button>\n    </div>\n  );\n}\n\nexport default FeedbackThanks;\n","import React, { useState } from \"react\";\nimport TopicHeader from \"../headers/TopicHeader\";\nimport { Editor } from '@tinymce/tinymce-react';\nimport * as constant from '../components/Constants';\nimport useFetch from \"../hooks/useFetch\";\nimport DisplayAlert from '../components/DisplayAlert';\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"../headers/KwykHeader\";\nimport ReactGA from 'react-ga4';\n\nfunction Explanation() {\n  let path = window.location.hash.split('#')[1]\n  ReactGA.set({ page: path});\n  ReactGA.pageview(path);\n//  ReactGA.pageview(window.location.pathname + window.location.hash);\n  let history = useHistory();\n  if(sessionStorage.getItem('topic') == null){\n    history.push({\n      pathname:`/404`\n    });\n    return null;\n  }\n  else {\n    return <ShowExplanationPage />\n  }\n}\n\nexport default Explanation;\n\nfunction ShowExplanationPage() {\n  const topic = sessionStorage.getItem('topic');\n  const subtopic = sessionStorage.getItem('subtopic');\n  const username = sessionStorage.getItem('username');\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-2\"></div>\n        <div className=\"col-md-8\">\n            <Header username={username}/>\n            <ShowExplanation topic={topic} subtopic={subtopic}/>\n        </div>\n        <div className=\"col-md-2\"></div>\n      </div>\n    </div>\n  );\n}\n\nfunction ShowExplanation(props) {\n  /*const data = props.data;\n  const topics = data[\"topics\"];\n  const topicWordsResponses = data[\"topic_answers\"];\n  const topicWords = topicWordsResponses[\"topic_words\"];\n  const topicExplanation = topicWordsResponses[\"explanation\"];\n  const topicUserWords = props.topicUserWords;\n  topicWords.sort();\n  const wordExplanations = topicWords.map((word,index)=>{\n    if(word in topicUserWords){\n      return <DisplayExplanation word={word} topicExplanation={topicExplanation} key={index}/>\n    }\n  });\n\n  const url = constant.kwykURL+\"explaination_custom\"+\"/\"+props.topic+\"/\"+props.subtopic+\"/\";\n  const fetchResponse = useFetch(url, {isLoading: true, data: null, error: null});\n  if (fetchResponse.error){\n    return <DisplayAlert message={fetchResponse.error} />\n  }\n  else if ( fetchResponse.isLoading) {\n    return 'Loading...';\n  }\n  const data = fetchResponse.data\n  console.log(data);*/\n  const data = JSON.parse(sessionStorage.getItem('explanationData'));\n  return(\n    <div >\n      <TopicHeader topic={props.topic} subtopic={props.subtopic}/>\n      <div className=\"explanation-area\">\n      <Editor\n       initialValue={data}\n       apiKey= {constant.TINYMCE_APIKEY}\n       disabled={true}\n       init={{\n         plugins: ['noneditable','autoresize'],\n         toolbar: false,\n         menubar: false,\n         inline: true,\n         content_style: 'p { background-color: #ffffff; padding-left: 3px}' + 'ol { background-color: #ffffff; padding:3px; }'+\n         'ul { background-color: #ffffff; padding:3px; }'+'.mce-content-body { background-color: #ffffff }'\n      }} />\n      </div>\n\n    </div>\n  );\n}\n\n\nfunction DisplayExplanation(props) {\n  const explanations = props.topicExplanation[props.word];\n  return(\n    <div className=\"explain-area\">\n      <label className=\"topicname\">\n        {props.word}\n      </label>\n      <div className=\"row explain-text\">\n        {explanations}\n      </div>\n    </div>\n\n  );\n}\n","import React, {useState} from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport DisplayTopic from '../screens/DisplayTopic';\nimport ChatBot from '../screens/ChatBot';\nimport ChatBotOQ from '../oneQuestion/ChatBotOQ';\nimport UserStats from '../screens/UserStats'\nimport Responses from '../screens/Responses'\nimport ResponsesOQ from '../oneQuestion/ResponsesOQ';\nimport Insights from '../screens/Insights'\nimport Login from \"../screens/Login\";\nimport UserLogin from \"../screens/UserLogin\";\nimport Feedback from \"../screens/Feedback\";\nimport About from \"../screens/About\";\nimport PasswordReset from './PasswordReset';\nimport Page404 from './Page404';\nimport AdminScreen from \"../screens/AdminScreen\"\nimport SessionSelectionScreen from \"../screens/SessionSelectionScreen\"\nimport Error from './Error';\nimport FeedbackThanks from './FeedbackThanks';\nimport Explanation from \"../screens/Explanations\";\n\nfunction Routes(){\n    return(\n      <Router  basename={`${process.env.PUBLIC_URL}/`}>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Login/>} />\n        <Route path=\"/topics\" exact render={() => <DisplayTopic/>} />\n        <Route path=\"/reset\" exact render={() => <PasswordReset/>} />\n        <Route path=\"/chat/:topic/:subtopic\" render={() => <ChatBot/>} />\n        <Route path=\"/oq/:topic/:subtopic\" render={() => <ChatBotOQ/>} />\n        <Route path=\"/user_stats/:topic/:subtopic\" render={() => <UserStats/>} />\n        <Route path=\"/view_responses/:topic/:subtopic\" render={() => <Responses/>} />\n        <Route path=\"/view_responses_oq/:topic/:subtopic\" render={() => <ResponsesOQ/>} />\n        <Route path=\"/explanation/:topic/:subtopic\" render={() => <Explanation/>} />\n        <Route path=\"/feedback\" render={() => <Feedback/>} />\n        <Route path=\"/about\" render={() => <About/>} />\n        <Route path=\"/admin\" exact render={() => <AdminScreen/>} />\n        <Route path=\"/admin/:topic/:subtopic\" exact render={() => <SessionSelectionScreen/>} />\n        <Route path=\"/analytics/:topic/:subtopic\" render={() =>\n                  <Insights />} />\n        <Route path=\"/:topic/:subtopic\" render={() => <UserLogin/>} />\n        <Route path=\"/error\" render={() => <Error/>} />\n        <Route path=\"/thanks\" exact render={() => <FeedbackThanks/>} />\n        <Route render={() => <Page404/>} />\n      </Switch>\n      </Router>\n    );\n}\n\nexport default Routes;\n","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport ReactGA from 'react-ga4';\nconst RouteChangeTracker = ({ history }) => {\n    console.log(history);\n      history.listen((location, action) => {\n        let path = location.hash.split('#')[1]\n        ReactGA.set({ page: path});\n        ReactGA.pageview(path);\n        console.log(\"path=\", path);\n    });\n\n    return <div></div>;\n};\n\nexport default withRouter(RouteChangeTracker);\n","\nimport React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Routes from './components/Routes';\nimport RouteChangeTracker from './components/RouteChangeTracker';\nimport ReactGA from 'react-ga4';\n\n\nfunction App() {\n  const TRACKING_ID = \"G-YBYHCW1NML\";\n  ReactGA.initialize(TRACKING_ID);\n  return(\n    <Router >\n      <div className=\"App\">\n        <RouteChangeTracker />\n        <Routes />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/knowbotpng.c964294f.png\";","module.exports = __webpack_public_path__ + \"static/media/idea.8c35f5e8.png\";","module.exports = __webpack_public_path__ + \"static/media/send.47d6774c.png\";"],"sourceRoot":""}